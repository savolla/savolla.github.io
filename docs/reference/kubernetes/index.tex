% Created 2025-09-15 Mon 00:02
% Intended LaTeX compiler: xelatex
\documentclass[14pt]{article}
\usepackage[a4paper, total={6.8132in, 9.6354in}]{geometry}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{fvextra}
\usepackage{titlesec}
\usepackage{fontspec}
\usepackage{hyperref}
\usepackage{background}
\usepackage{shadowtext} % for drop shadow under cover titles

% Fonts
\setmainfont[Scale=1.2]{Fira Sans}
\setmonofont[Scale=1.0]{Fira Mono}

% Colors
\definecolor{gruv-bg}{HTML}{f9f5d7}
\definecolor{gruv-fg}{HTML}{3c3836}
\definecolor{gruv-accent}{HTML}{af3a03}
\definecolor{gruv-codebg}{HTML}{ffffff}
\definecolor{gruv-codetext}{HTML}{3c3836}
\definecolor{gruv-codeframe}{HTML}{ffffff}
\definecolor{covertext}{HTML}{3c3836}

\pagecolor{gruv-bg}
\color{gruv-fg}

% Hyperlinks
\hypersetup{
  colorlinks=true,
  linkcolor=gruv-accent,
  urlcolor=gruv-accent,
  citecolor=gruv-accent
}
\let\oldhref\href
\renewcommand{\href}[2]{\oldhref{#1}{\textbf{#2}}}

% Section formatting and spacing
\titleformat{\section}{\normalfont\LARGE\bfseries}{\thesection}{1em}{}
\setlength{\parskip}{0.7em}
\setlength{\parindent}{0pt}

% Code block appearance
\RecustomVerbatimEnvironment{Verbatim}{Verbatim}{
  fontsize=\large,
  breaklines=true,
  commandchars=\\\{\},
  bgcolor=gruv-codebg,
  formatcom=\color{gruv-codetext},
}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{capt-of}
\usepackage{hyperref}
\author{Kuzey KoÃ§}
\date{\textit{<2025-09-10 Wed>}}
\title{Kubernetes}
\hypersetup{
 pdfauthor={Kuzey KoÃ§},
 pdftitle={Kubernetes},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 30.2 (Org mode 9.7.34)}, 
 pdflang={English}}
\begin{document}

\tableofcontents

% background setup for the cover page
\backgroundsetup{
  scale=0.8,
  angle=0,
  opacity=0.1,
  contents={
  \includegraphics[
  width=1920,
  height=1080
  ]
  {/home/savolla/project/publishing/savolla.github.io/content/reference/kubernetes/featured.jpg}
  }
}

\definecolor{covertext}{HTML}{5d88de}

% cover page settings
\begin{titlepage}
  \BgThispage
  \color{covertext}
  \centering
  \vspace*{3cm}
  {\fontsize{25pt}{35pt}\bfseries DevOps Reference Series \par}
  \vspace{0.5cm}
  {\fontsize{60pt}{72pt}\bfseries Kubernetes \par}
  \vspace{1cm}
  {\fontsize{18pt}{20pt}\itshape by \par}
  \vspace{0.5cm}
  {\fontsize{23pt}{27pt}\itshape{\bfseries Kuzey KoÃ§} \par}
  \vfill
\end{titlepage}

% set text color back to dark for main document
\color{gruv-fg}

% generate table of contents
\newpage
\tableofcontents
\newpage

You can get the PDF version of this article \href{file:///home/savolla/project/publishing/savolla.github.io/content/reference/kubernetes/index.pdf}{here} ğŸ“
\section*{Applied Notes}
\label{sec:orge0c303e}
\section*{Notes}
\label{sec:org556b35b}
\begin{itemize}
\item kubernetesin mimarisinde 2 temel kavram vardÄ±r. \textbf{control plane} ve \textbf{worker node}
\begin{itemize}
\item control plane
\begin{itemize}
\item kubernetes spesifik proseslerin Ã§alÄ±ÅŸtÄ±ÄŸÄ± master.
\item control plane iÃ§inde Ã§alÄ±ÅŸan Ã¶nemli prosesler
\begin{itemize}
\item api server
\begin{itemize}
\item kÄ±sa ismi \textbf{api}
\end{itemize}
\item controller manager
\begin{itemize}
\item kÄ±sa ismi \textbf{c-m}
\item cluster iÃ§ini sÃ¼rekli izler ve bir sorun Ã§Ä±ktÄ±ÄŸÄ±nda onarÄ±r
\item bir pod ya da container Ã¶ldÃ¼ diyelim. hemen onu tamir eder. replicaset buna Ã¶rnek verilebilir
\end{itemize}
\item scheduler
\begin{itemize}
\item kÄ±sa ismi \textbf{sched}
\item uygulamalarÄ±, worker nodelara daÄŸÄ±tÄ±r. bunu yaparken de workload ya da cpu ve ram kullanÄ±mlarÄ±na gÃ¶re yapar
\end{itemize}
\item etcd
\begin{itemize}
\item key value store. yani kubernetes clusterÄ±nÄ±n ayarlarÄ±nÄ± saklar. configÃ¼rasyonu, her nodun statelerini vs tutar
\item ayrÄ±ca bir clusterÄ±n backupÄ±nÄ± almak istiyorsak etcd'den almamÄ±z gerekir
\end{itemize}
\end{itemize}
\item cluster iÃ§inde en az 2 control plane olmasÄ± gerekir. Ã§Ã¼nkÃ¼ biri dÃ¼ÅŸerse diÄŸer ayakta kalacak ÅŸekilde kurulmasÄ± gerekir
\end{itemize}
\item worker node
\begin{itemize}
\item kullanÄ±cÄ± uygulamalarÄ±nÄ± Ã§alÄ±ÅŸtÄ±ÄŸÄ± ve control plane tarafÄ±ndan yÃ¶netilen serverlar
\end{itemize}
\end{itemize}
\item kubernetes iÃ§in var olan web tabanlÄ± arayÃ¼zler vardÄ±r. bunlardan biri \textbf{kubernetes dashboard}
\item kubernetes komponentleri
\begin{itemize}
\item pod
\begin{itemize}
\item kubernetesdeki en temel birimdir
\item bir ya da birden Ã§ok containerÄ± barÄ±ndÄ±rÄ±r
\end{itemize}
\item service
\begin{itemize}
\item pod iÃ§inde Ã§alÄ±ÅŸan konteynerlarÄ±n kendi ip adresleri vardÄ±r ancak ephemeral olduklarÄ± iÃ§in bu konteynerlar replicaset tarafÄ±ndan deÄŸiÅŸtirilir. bu olunca da ip adresi deÄŸiÅŸir. ip adresi deÄŸÅŸse bile diÄŸer uygulamalarÄ±n bu pod iÃ§inde Ã§alÄ±ÅŸan uygulamaya eriÅŸiminin devam edebilmesi iÃ§in \textbf{service} diye bir k8s komponenti geliÅŸtirildi.
\item service, bir pod'a atanmÄ±ÅŸ statik ip adresi gibi dÃ¼ÅŸÃ¼nÃ¼lebilir
\item servis aynÄ± zamanda bir \textbf{load balancer} gibi de davranÄ±r.
\end{itemize}
\item ingress
\begin{itemize}
\item pod iÃ§inde Ã§alÄ±ÅŸan bir service browserdan eriÅŸmek istediÄŸimizde ingres kullanabiliriz. burada ingress, service ile iletiÅŸim kurar. service ise gerekli konteynerÄ±n servisini ingresse aÃ§ar.
\end{itemize}
\item configmap
\begin{itemize}
\item pod iÃ§inde Ã§alÄ±ÅŸan uygulamanÄ±n ayarlarÄ± ya da ortam deÄŸiÅŸkenlerini buraya yazabiliriz ve k8s buradan okuyup iÅŸlem yapabilir
\item configmap kullanmanÄ±n avantajÄ±, bu deÄŸiÅŸkenleri dockerfile'a yazmayÄ±p, uygulamayÄ± her seferinde build etmememizi saÄŸlar.
\end{itemize}
\item secret
\begin{itemize}
\item configmap gibi ancak daha hassas verileri saklamak iÃ§in kullanÄ±lÄ±r. Ã¶rneÄŸin api tokenlarÄ±, ÅŸifreler gibi.
\item secretlar \textbf{plain text} olarak etcd'de saklanÄ±r. api eriÅŸimi olan herkes bu bilgilere eriÅŸip secretlarÄ± okuyup deÄŸiÅŸtirebilir. bu yÃ¼zden secretlarÄ± encrypt etmek iÃ§in 3rd party araÃ§lar kullanÄ±lmasÄ± gerekir. Vault gibi
\end{itemize}
\item volume
\begin{itemize}
\item pod iÃ§inde Ã§alÄ±ÅŸan ve veri Ã¼reten konteynerlarÄ±n bu verileri \textbf{persistence} yapmasÄ± iÃ§in bir disk alanÄ± gerekir. bunun iÃ§in volumelar vardÄ±r. veritabanÄ± gibi servislerin kesinlikle buna ihtiyacÄ± vardÄ±r.
\item volume aynÄ± makinede de saklanabilir, cloud providerlarÄ±n bir storage servisinde de saklanabilir
\end{itemize}
\item deployment
\begin{itemize}
\item pod, konteynerlar arasÄ± bir soyutlama yapÄ±yorsa, deployment da podlar Ã¼stÃ¼nden bir soyutlama yapan kubernetes konseptidir.
\item statei ya da bir volume'e ihtiyaÃ§ duymayan uygulamalar iÃ§in kullanÄ±lÄ±r
\item genellikle direk podlar ile deÄŸil de deploymentlar ile Ã§alÄ±ÅŸÄ±rÄ±z
\end{itemize}
\item stetefulset
\begin{itemize}
\item \textbf{sts} kÄ±sa ismi
\item database uygulamalarÄ± iÃ§in Ã¶zel olarak geliÅŸtirilmiÅŸtir. \textbf{mysql}, \textbf{mongodb}, \textbf{elasticsearch}. bu gibi uygulamalar \uline{her zaman stateful sets ile} deploy edilmelidir. deployment ile deÄŸil
\item database applikasyonlarÄ±nÄ± stateful set ile deploy etmek biraz uÄŸraÅŸtÄ±rÄ±cÄ±dÄ±r. bu yÃ¼zden veritabanÄ± gibi uyglamalarÄ± kubernetes clusterÄ± dÄ±ÅŸÄ±nda tutmak daha mantÄ±klÄ±dÄ±r. yani veritabanÄ±nÄ± yine deployment ile kurup asÄ±l datbase baÄŸlantÄ±sÄ±nÄ± dÄ±ÅŸardaki veritabanÄ±na gÃ¶ndermek en mantÄ±klÄ±sÄ±dÄ±r.
\end{itemize}
\end{itemize}
\item kubernetes has 3 different pluggable components
\begin{itemize}
\item CRI (container runtime interface)
\begin{itemize}
\item containerd and cri-o
\item docker was removed
\end{itemize}
\item CNI (container networking interface)
\begin{itemize}
\item k8s has k-proxy by default for cluster networking but there are different puggable services as well
\item flannel
\item calico
\item cilium
\end{itemize}
\item CSI (container storage intreface)
\begin{itemize}
\item this is for storage in cluster
\end{itemize}
\end{itemize}
\item \textbf{DaemonSet}
\begin{itemize}
\item \textbf{DaemonSet} her node'da Ã§alÄ±ÅŸmasÄ± gereken servislerin tanÄ±mlandÄ±ÄŸÄ± bir deployment tÃ¼rÃ¼dÃ¼r. Her bir node'da \uline{sistem dÃ¼zeyinde} Ã§alÄ±ÅŸmasÄ± gereken servisler iÃ§in kullanÄ±lÄ±r. Ã–rnek olarak; \textbf{log toplama} (Fluentd, Logstash), \textbf{node monitoring} (prometheus node exporter), \textbf{container network interface} (calico, flanel) ve \textbf{security agents} gibi ``node'' ile ilgili olan servisler iÃ§in kullanÄ±lÄ±r. \footnote{\href{https://chatgpt.com/}{ChatGPT}\label{org8a32457}}

\item Yeni bir node clusterâ€™a eklenirse, DaemonSet otomatik olarak o nodeâ€™da da bir Pod oluÅŸturur. Node clusterâ€™dan silinirse, ilgili Pod da silinir. Ä°stersen sadece belirli labelâ€™lara sahip nodeâ€™lara Pod yerleÅŸtirebilirsin (nodeSelector, affinity vb.). \textsuperscript{\ref{org8a32457}}

\item Bir daemonset oluÅŸturmak iÃ§in de ÅŸu Ã¶rneÄŸe bakabilirsin \href{daily/2025-09-10.org}{kubernetes daemonset file example}
\item \textbf{DaemonSet ve Deployment FarklarÄ±} \textsuperscript{\ref{org8a32457}}
\begin{center}
\begin{tabular}{lll}
Ã¶zellik & DaemonSet & Deployment\\
\hline
pod sayÄ±sÄ± & her node'a 1 tane & belirli sayÄ±da (replicaset)\\
node'a baÄŸlÄ±lÄ±k & evet & hayÄ±r\\
usecase & sistem/altyapÄ± & aplikasyon\\
\end{tabular}
\end{center}
\end{itemize}
\item \textbf{Kubernetes Volumes}
\begin{itemize}
\item kubernetes does not give you data persistency out of the box \footnote{\href{https://www.youtube.com/watch?v=0swOh5C3OVM}{Kubernetes Volumes explained | Persistent Volume, Persistent Volume Claim \& S\ldots{}}}
\item \textbf{Persistent Volume}
\begin{itemize}
\item belongs to cluster itself. it is a dedicated disk
\end{itemize}
\item \textbf{Persistent Volume Claim}
\item \textbf{Storage Class}
\end{itemize}
\end{itemize}
\section*{Flashcards}
\label{sec:orgee62499}
\section*{Resources}
\label{sec:org148f22a}
\subsection*{Docs}
\label{sec:org6d7667b}
\begin{itemize}
\item \href{https://kubernetes.io/docs/home/}{Kubernetes Documentation | Kubernetes}
\end{itemize}
\subsection*{Videos}
\label{sec:orgb612b0a}
\begin{itemize}
\item \href{https://www.youtube.com/watch?v=2T86xAtR6Fo}{Complete Kubernetes Course - From BEGINNER to PRO - YouTube}
\item \href{https://www.youtube.com/watch?v=s\_o8dwzRlu4}{Kubernetes Crash Course for Absolute Beginners \{NEW\} - YouTube}
\end{itemize}
\subsection*{Books}
\label{sec:org1419352}
\subsection*{Articles}
\label{sec:orge6bb85d}
\end{document}
