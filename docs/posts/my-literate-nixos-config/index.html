<!doctype html>
<html
  lang="en"
  dir="ltr"
  class="scroll-smooth"
  data-default-appearance="dark"
  data-auto-appearance="true"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  
    <meta http-equiv="content-language" content="en">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color">

  
  <title>My Literate NixOS Configuration &middot; </title>
    <meta name="title" content="My Literate NixOS Configuration &middot; ">

  
  <meta name="description" content="Kuzey Koç&#39;s Personal Website">
  <meta name="keywords" content="nixos,-F,">
  
  
  <link rel="canonical" href="http://localhost:1313/posts/my-literate-nixos-config/">
  
  
  
  
  
  
  
  
  
  
    
    
  
  
  <link
    type="text/css"
    rel="stylesheet"
    href="/css/main.bundle.min.246280f2298486e23ee2d02a382c3fbb9a05a022153c44220dcc88c75c0bbe976027ca551062471864c41a13bc2507cb8143d34186812807ac370a62c5efdb6e.css"
    integrity="sha512-JGKA8imEhuI&#43;4tAqOCw/u5oFoCIVPEQiDcyIx1wLvpdgJ8pVEGJHGGTEGhO8JQfLgUPTQYaBKAesNwpixe/bbg==">

  
  
  <script
    type="text/javascript"
    src="/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js"
    integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj&#43;e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
  
    
    
    <script
      src="/js/a11y.min.6966a2d0ce0d2ac82b13dbafc34dbc0770454684e82ab4e884addb40d4c128e89f14723437ee3ab6c0525edd92377e698c1cfc43ed5626d85b36dfa3ba33fa94.js"
      integrity="sha512-aWai0M4NKsgrE9uvw028B3BFRoToKrTohK3bQNTBKOifFHI0N&#43;46tsBSXt2SN35pjBz8Q&#43;1WJthbNt&#43;jujP6lA=="></script>
  
  
    
    
    
  
  
    
    
  
  
  
  
  
  
  
  
  
    
    <script
      defer
      type="text/javascript"
      id="script-bundle"
      src="/js/main.bundle.min.2a700d98037fb0c14d144bda34f1591a5e2e6b565cf83590ee197a250fde4be98291d9cde6830d41654642a127ec85619ecbc8c9dccc483d1ba8973d2b3af5e0.js"
      integrity="sha512-KnANmAN/sMFNFEvaNPFZGl4ua1Zc&#43;DWQ7hl6JQ/eS&#43;mCkdnN5oMNQWVGQqEn7IVhnsvIydzMSD0bqJc9Kzr14A=="
      data-copy="Copy"
      data-copied="Copied"></script>
  
  
    
    <script src="/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js" integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7&#43;kfJ6kKCJxQGC&#43;8wm&#43;Bz9JucDjDTGNew=="></script>
  

  
  
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
  

  
  
  
  
  
  

  
  <meta property="og:url" content="http://localhost:1313/posts/my-literate-nixos-config/">
  <meta property="og:title" content="My Literate NixOS Configuration">
  <meta property="og:description" content="Kuzey Koç&#39;s Personal Website">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-09-11T00:00:00+03:00">
    <meta property="article:modified_time" content="2025-09-11T00:00:00+03:00">
    <meta property="article:tag" content="Nixos">
    <meta property="article:tag" content="-F">
    <meta property="og:image" content="http://localhost:1313/posts/my-literate-nixos-config/featured-108358-2932042259.jpg">

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/posts/my-literate-nixos-config/featured-108358-2932042259.jpg">
  <meta name="twitter:title" content="My Literate NixOS Configuration">
  <meta name="twitter:description" content="Kuzey Koç&#39;s Personal Website">
<meta name="twitter:image" content="http://localhost:1313/posts/my-literate-nixos-config/featured-108358-2932042259.jpg">
    <meta property="og:image" content="http://localhost:1313/posts/my-literate-nixos-config/featured-108358-2932042259.jpg">
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Posts",
    "name": "My Literate NixOS Configuration",
    "headline": "My Literate NixOS Configuration",
    
    
    "inLanguage": "en",
    "url" : "http:\/\/localhost:1313\/posts\/my-literate-nixos-config\/",
    "author" : {
      "@type": "Person",
      "name": "Kuzey Koç"
    },
    "copyrightYear": "2025",
    "dateCreated": "2025-09-11T00:00:00\u002b03:00",
    "datePublished": "2025-09-11T00:00:00\u002b03:00",
    
    "dateModified": "2025-09-11T00:00:00\u002b03:00",
    
    "keywords": ["nixos","-F"],
    
    "mainEntityOfPage": "true",
    "wordCount": "4335"
  }]
  </script>



  
  
    <meta name="author" content="Kuzey Koç">
  
  
    
      
        
          <link href="savolla@protonmail.com" rel="me">
        
      
    
      
        
          <link href="https://github.com/savolla" rel="me">
        
      
    
      
        
          <link href="www.linkedin.com/in/kuzey-ko%c3%a7-419043327" rel="me">
        
      
    
      
        
          <link href="https://matrix.to/#/@savolla:matrix.org" rel="me">
        
      
    
      
        
          <link href="https://www.youtube.com/@savollaross/videos" rel="me">
        
      
    
  

  
  

<script src="/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>























  
  





  
  

  
  

  
  

  
  
</head>
<body
    class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
    <div id="the-top" class="absolute flex self-center">
      <a
        class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
        href="#main-content">
        <span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>
        Skip to main content
      </a>
    </div>
    
    
      <div class="min-h-[148px]"></div>
<div class="fixed inset-x-0 pl-[24px] pr-[24px] z-100">
  <div
    id="menu-blur"
    class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom bg-neutral dark:bg-neutral-800"></div>
  <div class="relative max-w-[64rem] ml-auto mr-auto">
    













<div
  class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start gap-x-3 pt-[2px] pr-0 pb-[3px] pl-0">
  
  
    
    
      <div>
        <a href="/" class="flex">
          <span class="sr-only"></span>
          
            <img
              src="/logo.png"
              width="248"
              height="65"
              class="logo max-h-[5rem] max-w-[5rem] object-scale-down object-left nozoom"
              alt="">
          
        </a>
      </div>
    

  <div class="flex flex-1 items-center justify-between">
    <nav class="flex space-x-3">
      
        <a href="/" class="text-base font-medium text-gray-500 hover:text-gray-900">
          
        </a>
      
    </nav>
    
  <nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12">
    
      
        
  <a
  href="/posts/"
  
  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
  
  <p class="text-base font-medium" title="Posts">
    posts
  </p>
</a>



      
        
  <a
  href="/writeup/"
  
  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
  
  <p class="text-base font-medium" title="Writeups">
    write-ups
  </p>
</a>



      
        
  <a
  href="/reference/"
  
  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
  
  <p class="text-base font-medium" title="References">
    reference
  </p>
</a>



      
        
  <a
  href="/zettel/"
  
  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
  
  <p class="text-base font-medium" title="Zettels">
    zettelkasten
  </p>
</a>



      
        
  <a
  href="/personal/"
  
  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
  
  <p class="text-base font-medium" title="Personals">
    personal
  </p>
</a>



      
    

    

    
      <div class="flex items-center">
    <button
      id="desktop-a11y-toggle"
      aria-label="Open accessibility panel"
      aria-expanded="false"
      type="button"
      class="text-base hover:text-primary-600 dark:hover:text-primary-400"
      role="button"
      aria-pressed="false">
      <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm161.5-86.1c-12.2-5.2-26.3 .4-31.5 12.6s.4 26.3 12.6 31.5l11.9 5.1c17.3 7.4 35.2 12.9 53.6 16.3l0 50.1c0 4.3-.7 8.6-2.1 12.6l-28.7 86.1c-4.2 12.6 2.6 26.2 15.2 30.4s26.2-2.6 30.4-15.2l24.4-73.2c1.3-3.8 4.8-6.4 8.8-6.4s7.6 2.6 8.8 6.4l24.4 73.2c4.2 12.6 17.8 19.4 30.4 15.2s19.4-17.8 15.2-30.4l-28.7-86.1c-1.4-4.1-2.1-8.3-2.1-12.6l0-50.1c18.4-3.5 36.3-8.9 53.6-16.3l11.9-5.1c12.2-5.2 17.8-19.3 12.6-31.5s-19.3-17.8-31.5-12.6L338.7 175c-26.1 11.2-54.2 17-82.7 17s-56.5-5.8-82.7-17l-11.9-5.1zM256 160a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"/></svg>
</span>
    </button>

    <div id="desktop-a11y-overlay" class="fixed inset-0 z-500 hidden"></div>

    <div
      id="desktop-a11y-panel"
      role="dialog"
      aria-labelledby="desktop-a11y-panel-title"
      class="a11y-panel-enter fixed hidden z-500 p-6 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-80 rounded-lg shadow-xl bg-neutral-50 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700"
      style="min-width: 20rem;">
      <div class="flex items-center justify-between mb-6">
        <h3
          id="desktop-a11y-panel-title"
          class="text-lg font-semibold text-neutral-900 dark:text-neutral-100">
          Accessibility settings
        </h3>
        <button
          id="desktop-a11y-close"
          class="text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200"
          aria-label="Close a11y panel">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <div class="space-y-5">
          <div class="flex items-center justify-between">
            <label for="desktop-disable-blur" class="text-sm font-medium text-neutral-700 dark:text-neutral-300">
              Disable blur
            </label>
            <div class="ios-toggle">
              <input type="checkbox" id="desktop-disable-blur">
            </div>
          </div>
          <div class="flex items-center justify-between">
            <label for="desktop-disable-images" class="text-sm font-medium text-neutral-700 dark:text-neutral-300">
              Disable images
            </label>
            <div class="ios-toggle">
              <input type="checkbox" id="desktop-disable-images">
            </div>
          </div>
          <div class="flex items-center justify-between">
            <label for="desktop-underline-links" class="text-sm font-medium text-neutral-700 dark:text-neutral-300">
              Show link underline
            </label>
            <div class="ios-toggle">
              <input type="checkbox" id="desktop-underline-links">
            </div>
          </div>
          <div class="flex items-center justify-between">
            <label for="desktop-zen-mode" class="text-sm font-medium text-neutral-700 dark:text-neutral-300">
              Enable zen mode
            </label>
            <div class="ios-toggle">
              <input type="checkbox" id="desktop-zen-mode">
            </div>
          </div>


        <div class="flex items-center justify-between">
          <label
            for="desktop-font-size-select"
            class="text-sm font-medium text-neutral-700 dark:text-neutral-300">
            Font size
          </label>
          <select
            id="desktop-font-size-select"
            class="border rounded-lg px-3 py-1.5 pr-8 text-neutral-900 text-sm dark:bg-neutral-700 dark:text-neutral-200 focus:ring-primary-500 focus:border-primary-500">
            
            
              <option value="default">default</option>
            
              <option value="12px">12px</option>
            
              <option value="14px">14px</option>
            
              <option value="16px">16px</option>
            
              <option value="18px">18px</option>
            
              <option value="20px">20px</option>
            
              <option value="22px">22px</option>
            
              <option value="24px">24px</option>
            
          </select>
        </div>
      </div>
    </div>
  </div>

    

    
      <button
        id="search-button"
        aria-label="Search"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400"
        title="Search (/)">
        <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
      </button>
    

    
      <div class=" flex items-center">
        <button
          id="appearance-switcher"
          aria-label="Dark mode switcher"
          type="button"
          class="text-base hover:text-primary-600 dark:hover:text-primary-400">
          <div class="flex items-center justify-center dark:hidden">
            <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>
</span>
          </div>
          <div class="items-center justify-center hidden dark:flex">
            <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>
</span>
          </div>
        </button>
      </div>
    
  </nav>

    
  <div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12">
    <span></span>

    

    
      <div class="flex items-center">
    <button
      id="mobile-a11y-toggle"
      aria-label="Open accessibility panel"
      aria-expanded="false"
      type="button"
      class="text-base hover:text-primary-600 dark:hover:text-primary-400"
      role="button"
      aria-pressed="false">
      <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm161.5-86.1c-12.2-5.2-26.3 .4-31.5 12.6s.4 26.3 12.6 31.5l11.9 5.1c17.3 7.4 35.2 12.9 53.6 16.3l0 50.1c0 4.3-.7 8.6-2.1 12.6l-28.7 86.1c-4.2 12.6 2.6 26.2 15.2 30.4s26.2-2.6 30.4-15.2l24.4-73.2c1.3-3.8 4.8-6.4 8.8-6.4s7.6 2.6 8.8 6.4l24.4 73.2c4.2 12.6 17.8 19.4 30.4 15.2s19.4-17.8 15.2-30.4l-28.7-86.1c-1.4-4.1-2.1-8.3-2.1-12.6l0-50.1c18.4-3.5 36.3-8.9 53.6-16.3l11.9-5.1c12.2-5.2 17.8-19.3 12.6-31.5s-19.3-17.8-31.5-12.6L338.7 175c-26.1 11.2-54.2 17-82.7 17s-56.5-5.8-82.7-17l-11.9-5.1zM256 160a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"/></svg>
</span>
    </button>

    <div id="mobile-a11y-overlay" class="fixed inset-0 z-500 hidden"></div>

    <div
      id="mobile-a11y-panel"
      role="dialog"
      aria-labelledby="mobile-a11y-panel-title"
      class="a11y-panel-enter fixed hidden z-500 p-6 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-80 rounded-lg shadow-xl bg-neutral-50 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700"
      style="min-width: 20rem;">
      <div class="flex items-center justify-between mb-6">
        <h3
          id="mobile-a11y-panel-title"
          class="text-lg font-semibold text-neutral-900 dark:text-neutral-100">
          Accessibility settings
        </h3>
        <button
          id="mobile-a11y-close"
          class="text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200"
          aria-label="Close a11y panel">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <div class="space-y-5">
          <div class="flex items-center justify-between">
            <label for="mobile-disable-blur" class="text-sm font-medium text-neutral-700 dark:text-neutral-300">
              Disable blur
            </label>
            <div class="ios-toggle">
              <input type="checkbox" id="mobile-disable-blur">
            </div>
          </div>
          <div class="flex items-center justify-between">
            <label for="mobile-disable-images" class="text-sm font-medium text-neutral-700 dark:text-neutral-300">
              Disable images
            </label>
            <div class="ios-toggle">
              <input type="checkbox" id="mobile-disable-images">
            </div>
          </div>
          <div class="flex items-center justify-between">
            <label for="mobile-underline-links" class="text-sm font-medium text-neutral-700 dark:text-neutral-300">
              Show link underline
            </label>
            <div class="ios-toggle">
              <input type="checkbox" id="mobile-underline-links">
            </div>
          </div>
          <div class="flex items-center justify-between">
            <label for="mobile-zen-mode" class="text-sm font-medium text-neutral-700 dark:text-neutral-300">
              Enable zen mode
            </label>
            <div class="ios-toggle">
              <input type="checkbox" id="mobile-zen-mode">
            </div>
          </div>


        <div class="flex items-center justify-between">
          <label
            for="mobile-font-size-select"
            class="text-sm font-medium text-neutral-700 dark:text-neutral-300">
            Font size
          </label>
          <select
            id="mobile-font-size-select"
            class="border rounded-lg px-3 py-1.5 pr-8 text-neutral-900 text-sm dark:bg-neutral-700 dark:text-neutral-200 focus:ring-primary-500 focus:border-primary-500">
            
            
              <option value="default">default</option>
            
              <option value="12px">12px</option>
            
              <option value="14px">14px</option>
            
              <option value="16px">16px</option>
            
              <option value="18px">18px</option>
            
              <option value="20px">20px</option>
            
              <option value="22px">22px</option>
            
              <option value="24px">24px</option>
            
          </select>
        </div>
      </div>
    </div>
  </div>

    

    
      <button
        id="search-button-mobile"
        aria-label="Search"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400"
        title="Search (/)">
        <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
      </button>
    

    
      <button
        id="appearance-switcher-mobile"
        aria-label="Dark mode switcher"
        type="button"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400 ltr:mr-1 rtl:ml-1">
        <div class="flex items-center justify-center dark:hidden">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>
</span>
        </div>
        <div class="items-center justify-center hidden dark:flex">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>
</span>
        </div>
      </button>
    
  </div>

  </div>
  
  <div class="-my-2 md:hidden">
    <div id="menu-button" class="block">
      
        <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>
</span>
        </div>
        <div
          id="menu-wrapper"
          class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50 pt-[5px]">
          <ul
            class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">
            <li id="menu-close-button">
              <span
                class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">
                <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
              </span>
            </li>

            
              
  <li class="mt-1">
  <a
    href="/posts/"
    
    class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-bg font-bg" title="Posts">
      posts
    </p>
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/writeup/"
    
    class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-bg font-bg" title="Writeups">
      write-ups
    </p>
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/reference/"
    
    class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-bg font-bg" title="References">
      reference
    </p>
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/zettel/"
    
    class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-bg font-bg" title="Zettels">
      zettelkasten
    </p>
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/personal/"
    
    class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-bg font-bg" title="Personals">
      personal
    </p>
  </a>
</li>



            

          </ul>
          
        </div>
      
    </div>
  </div>

</div>




  <script>
    (function () {
      var $mainmenu = $(".main-menu");
      var path = window.location.pathname;
      $mainmenu.find('a[href="' + path + '"]').each(function (i, e) {
        $(e).children("p").addClass("active");
      });
    })();
  </script>


  </div>
</div>


<script
  type="text/javascript"
  src="/js/background-blur.min.0ad33cb9c066f652728b2cc09c9ceaf32645544f48e8b6b38f120d86f433ed997da275a49e6151fe0176430c45376812708d84727f3f969101fb44a4345b3f34.js"
  integrity="sha512-CtM8ucBm9lJyiyzAnJzq8yZFVE9I6LazjxINhvQz7Zl9onWknmFR/gF2QwxFN2gScI2Ecn8/lpEB&#43;0SkNFs/NA=="
  data-target-id="menu-blur"></script>

    
    <div class="relative flex flex-col grow">
      <main id="main-content" class="grow">
        
  
  <article>
    
    
      
      
      
      
        


  <div class="fixed inset-x-0 top-0 h-[800px] single_hero_background nozoom">
    
    
      
    
    <img
      id="background-image"
      src="/posts/my-literate-nixos-config/featured-108358-2932042259_hu_cc81b8703178cba7.jpg"
      alt="Background Image"
      class="absolute inset-0 w-full h-full object-cover">
    <div
      class="absolute inset-0 bg-gradient-to-t from-neutral dark:from-neutral-800 to-transparent mix-blend-normal"></div>
    <div
      class="absolute inset-0 opacity-60 bg-gradient-to-t from-neutral dark:from-neutral-800 to-neutral-100 dark:to-neutral-800 mix-blend-normal"></div>
  </div>

  
    <div
      id="background-blur"
      class="fixed opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl"></div>
    
    
    <script
      type="text/javascript"
      src="/js/background-blur.min.0ad33cb9c066f652728b2cc09c9ceaf32645544f48e8b6b38f120d86f433ed997da275a49e6151fe0176430c45376812708d84727f3f969101fb44a4345b3f34.js"
      integrity="sha512-CtM8ucBm9lJyiyzAnJzq8yZFVE9I6LazjxINhvQz7Zl9onWknmFR/gF2QwxFN2gScI2Ecn8/lpEB&#43;0SkNFs/NA=="
      data-target-id="background-blur"
      data-image-id="background-image"
      data-image-url="/posts/my-literate-nixos-config/featured-108358-2932042259.jpg"></script>
  
      
    

    
    <header id="single_header" class="mt-5 max-w-prose">
      
        <ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden">
  
  
    
  
    
  
  <li class="hidden">
    <a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href="/"
      ></a
    ><span class="px-1 text-primary-500">/</span>
  </li>

  
  <li class="inline">
    <a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href="/posts/"
      >Posts</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

  
  <li class="hidden">
    <a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href="/posts/my-literate-nixos-config/"
      >My Literate NixOS Configuration</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

</ol>


      
      <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
        My Literate NixOS Configuration
      </h1>
      <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
        





  
  



  

  
  
  

  
  
    
  

  
    
  

  

  

  

  

  

  

  

  
    
  


  <div class="flex flex-row flex-wrap items-center">
    
    
      <time datetime="2025-09-11T00:00:00&#43;03:00">2025-09-11</time><span class="px-2 text-primary-500">&middot;</span>



<script
  type="text/javascript"
  src="/js/zen-mode.min.9814dee9614d32aeb56239d118edfe20acd6231424f9b19c2dd48835038414130a5e946c0d1c9087d60e60e31840c9babfd217e3d4b95643dc8d651a71ccdf4a.js"
  integrity="sha512-mBTe6WFNMq61YjnRGO3&#43;IKzWIxQk&#43;bGcLdSINQOEFBMKXpRsDRyQh9YOYOMYQMm6v9IX49S5VkPcjWUacczfSg=="></script>

<span class="mb-[2px]">
  <span
    id="zen-mode-button"
    class="text-lg hover:text-primary-500"
    title="Enable zen mode"
    data-title-i18n-disable="Enable zen mode"
    data-title-i18n-enable="Disable zen mode">
    <span class="inline-block align-text-bottom"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="50px" height="50px">
    <path fill="currentColor" d="M 12.980469 4 C 9.1204688 4 5.9804688 7.14 5.9804688 11 L 6 26 L 9.9804688 26 L 9.9804688 11 C 9.9804688 9.35 11.320469 8 12.980469 8 L 40.019531 8 C 41.679531 8 43.019531 9.35 43.019531 11 L 43.019531 39 C 43.019531 40.65 41.679531 42 40.019531 42 L 29 42 C 29 43.54 28.420938 44.94 27.460938 46 L 40.019531 46 C 43.879531 46 47.019531 42.86 47.019531 39 L 47.019531 11 C 47.019531 7.14 43.879531 4 40.019531 4 L 12.980469 4 z M 7 28 C 4.794 28 3 29.794 3 32 L 3 42 C 3 44.206 4.794 46 7 46 L 23 46 C 25.206 46 27 44.206 27 42 L 27 32 C 27 29.794 25.206 28 23 28 L 7 28 z M 7 32 L 23 32 L 23.001953 42 L 7 42 L 7 32 z"/>
</svg></span></span>
  </span>
</span>

    

    
    
  </div>

  

  
  
    <div class="flex flex-row flex-wrap items-center">
      
        
      
        
          
        
      
        
      
        
          
            
              <a class="relative mt-[0.5rem] mr-2" href="/tags/nixos/"
                ><span class="flex cursor-pointer">
  <span
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Nixos
  </span>
</span>
</a
              >
            
              <a class="relative mt-[0.5rem] mr-2" href="/tags/-f/"
                ><span class="flex cursor-pointer">
  <span
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    -F
  </span>
</span>
</a
              >
            
          
        
      
    </div>
  

  
  



      </div>
      
    </header>

    
    <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
      
      
      
      
      
        <div class="order-first lg:ml-auto px-0 lg:order-last ltr:lg:pl-8 rtl:lg:pr-8">
          <div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-[140px]">
            
              <details
  open
  id="TOCView"
  class="toc-right mt-0 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#imports">Imports</a></li>
    <li><a href="#global-variables">Global Variables</a>
      <ul>
        <li><a href="#package-overrides">Package Overrides</a>
          <ul>
            <li><a href="#ncmpcpp-with-visualizer">ncmpcpp with visualizer</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#main-configuration">Main Configuration</a></li>
    <li><a href="#bootloader">Bootloader</a>
      <ul>
        <li><a href="#grub">Grub</a></li>
      </ul>
    </li>
    <li><a href="#external-home-directory">External Home Directory</a></li>
    <li><a href="#hardware">Hardware</a></li>
    <li><a href="#automatic-updates">Automatic Updates</a></li>
    <li><a href="#networking">Networking</a>
      <ul>
        <li><a href="#network-manager">Network Manager</a></li>
        <li><a href="#wireless">Wireless</a></li>
        <li><a href="#firewall">Firewall</a></li>
        <li><a href="#nat">NAT</a></li>
        <li><a href="#dns">DNS</a></li>
      </ul>
    </li>
    <li><a href="#localization">Localization</a>
      <ul>
        <li><a href="#timezone">Timezone</a></li>
        <li><a href="#internationalisation">Internationalisation</a></li>
        <li><a href="#console-keymap">Console Keymap</a></li>
      </ul>
    </li>
    <li><a href="#users">Users</a></li>
    <li><a href="#nix">Nix</a>
      <ul>
        <li><a href="#flakes">Flakes</a></li>
        <li><a href="#unfree-packages">Unfree Packages</a></li>
        <li><a href="#package-overlays">Package Overlays</a>
          <ul>
            <li><a href="#mpv">mpv</a></li>
            <li><a href="#weechat">weechat</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#theme">Theme</a></li>
    <li><a href="#environment-variables">Environment Variables</a></li>
    <li><a href="#filesystem-check">Filesystem Check</a></li>
    <li><a href="#packages">Packages</a>
      <ul>
        <li><a href="#editors">Editors</a></li>
        <li><a href="#virtualization">Virtualization</a></li>
        <li><a href="#wayland">Wayland</a></li>
        <li><a href="#gaming">Gaming</a></li>
        <li><a href="#music-production">Music Production</a></li>
        <li><a href="#compiling-tools">Compiling Tools</a></li>
        <li><a href="#latex">LaTeX</a></li>
        <li><a href="#development">Development</a>
          <ul>
            <li><a href="#frontend">Frontend</a></li>
            <li><a href="#backend">Backend</a></li>
            <li><a href="#mobile">Mobile</a></li>
            <li><a href="#gamedev">Gamedev</a></li>
          </ul>
        </li>
        <li><a href="#devops">DevOps</a>
          <ul>
            <li><a href="#kubernetes">Kubernetes</a></li>
            <li><a href="#local-stack">Local Stack</a></li>
          </ul>
        </li>
        <li><a href="#doom-emacs-specific">Doom Emacs Specific</a>
          <ul>
            <li><a href="#dirvish-deps">Dirvish Deps</a></li>
            <li><a href="#lsp-deps">LSP Deps</a></li>
            <li><a href="#other">Other</a></li>
          </ul>
        </li>
        <li><a href="#communication">Communication</a></li>
        <li><a href="#multimedia">Multimedia</a></li>
        <li><a href="#browsers">Browsers</a></li>
        <li><a href="#gui">GUI</a></li>
        <li><a href="#suckless">Suckless</a></li>
        <li><a href="#misc">Misc</a></li>
      </ul>
    </li>
    <li><a href="#fonts">Fonts</a></li>
    <li><a href="#xdg">XDG</a></li>
    <li><a href="#virtualization">Virtualization</a>
      <ul>
        <li><a href="#virtualbox">VirtualBox</a></li>
        <li><a href="#podman">Podman</a></li>
        <li><a href="#docker">Docker</a></li>
        <li><a href="#libvirt">Libvirt</a></li>
        <li><a href="#waydroid">Waydroid</a></li>
      </ul>
    </li>
    <li><a href="#services">Services</a>
      <ul>
        <li><a href="#xorg">xorg</a></li>
        <li><a href="#spice">spice</a></li>
        <li><a href="#ssh">ssh</a></li>
        <li><a href="#cron">cron</a></li>
        <li><a href="#opensnitch">opensnitch</a></li>
        <li><a href="#udisks2">udisks2</a></li>
        <li><a href="#gvfs">gvfs</a></li>
        <li><a href="#pipewire">pipewire</a></li>
        <li><a href="#ly">ly</a></li>
        <li><a href="#dnscrypt">dnscrypt</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#imports">Imports</a></li>
    <li><a href="#global-variables">Global Variables</a>
      <ul>
        <li><a href="#package-overrides">Package Overrides</a>
          <ul>
            <li><a href="#ncmpcpp-with-visualizer">ncmpcpp with visualizer</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#main-configuration">Main Configuration</a></li>
    <li><a href="#bootloader">Bootloader</a>
      <ul>
        <li><a href="#grub">Grub</a></li>
      </ul>
    </li>
    <li><a href="#external-home-directory">External Home Directory</a></li>
    <li><a href="#hardware">Hardware</a></li>
    <li><a href="#automatic-updates">Automatic Updates</a></li>
    <li><a href="#networking">Networking</a>
      <ul>
        <li><a href="#network-manager">Network Manager</a></li>
        <li><a href="#wireless">Wireless</a></li>
        <li><a href="#firewall">Firewall</a></li>
        <li><a href="#nat">NAT</a></li>
        <li><a href="#dns">DNS</a></li>
      </ul>
    </li>
    <li><a href="#localization">Localization</a>
      <ul>
        <li><a href="#timezone">Timezone</a></li>
        <li><a href="#internationalisation">Internationalisation</a></li>
        <li><a href="#console-keymap">Console Keymap</a></li>
      </ul>
    </li>
    <li><a href="#users">Users</a></li>
    <li><a href="#nix">Nix</a>
      <ul>
        <li><a href="#flakes">Flakes</a></li>
        <li><a href="#unfree-packages">Unfree Packages</a></li>
        <li><a href="#package-overlays">Package Overlays</a>
          <ul>
            <li><a href="#mpv">mpv</a></li>
            <li><a href="#weechat">weechat</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#theme">Theme</a></li>
    <li><a href="#environment-variables">Environment Variables</a></li>
    <li><a href="#filesystem-check">Filesystem Check</a></li>
    <li><a href="#packages">Packages</a>
      <ul>
        <li><a href="#editors">Editors</a></li>
        <li><a href="#virtualization">Virtualization</a></li>
        <li><a href="#wayland">Wayland</a></li>
        <li><a href="#gaming">Gaming</a></li>
        <li><a href="#music-production">Music Production</a></li>
        <li><a href="#compiling-tools">Compiling Tools</a></li>
        <li><a href="#latex">LaTeX</a></li>
        <li><a href="#development">Development</a>
          <ul>
            <li><a href="#frontend">Frontend</a></li>
            <li><a href="#backend">Backend</a></li>
            <li><a href="#mobile">Mobile</a></li>
            <li><a href="#gamedev">Gamedev</a></li>
          </ul>
        </li>
        <li><a href="#devops">DevOps</a>
          <ul>
            <li><a href="#kubernetes">Kubernetes</a></li>
            <li><a href="#local-stack">Local Stack</a></li>
          </ul>
        </li>
        <li><a href="#doom-emacs-specific">Doom Emacs Specific</a>
          <ul>
            <li><a href="#dirvish-deps">Dirvish Deps</a></li>
            <li><a href="#lsp-deps">LSP Deps</a></li>
            <li><a href="#other">Other</a></li>
          </ul>
        </li>
        <li><a href="#communication">Communication</a></li>
        <li><a href="#multimedia">Multimedia</a></li>
        <li><a href="#browsers">Browsers</a></li>
        <li><a href="#gui">GUI</a></li>
        <li><a href="#suckless">Suckless</a></li>
        <li><a href="#misc">Misc</a></li>
      </ul>
    </li>
    <li><a href="#fonts">Fonts</a></li>
    <li><a href="#xdg">XDG</a></li>
    <li><a href="#virtualization">Virtualization</a>
      <ul>
        <li><a href="#virtualbox">VirtualBox</a></li>
        <li><a href="#podman">Podman</a></li>
        <li><a href="#docker">Docker</a></li>
        <li><a href="#libvirt">Libvirt</a></li>
        <li><a href="#waydroid">Waydroid</a></li>
      </ul>
    </li>
    <li><a href="#services">Services</a>
      <ul>
        <li><a href="#xorg">xorg</a></li>
        <li><a href="#spice">spice</a></li>
        <li><a href="#ssh">ssh</a></li>
        <li><a href="#cron">cron</a></li>
        <li><a href="#opensnitch">opensnitch</a></li>
        <li><a href="#udisks2">udisks2</a></li>
        <li><a href="#gvfs">gvfs</a></li>
        <li><a href="#pipewire">pipewire</a></li>
        <li><a href="#ly">ly</a></li>
        <li><a href="#dnscrypt">dnscrypt</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>


<script>
  (function () {
    'use strict'

    const SCROLL_OFFSET_RATIO = 0.33
    const TOC_SELECTOR = '#TableOfContents'
    const ANCHOR_SELECTOR = '.anchor'
    const TOC_LINK_SELECTOR = 'a[href^="#"]'
    const NESTED_LIST_SELECTOR = 'li ul'
    const ACTIVE_CLASS = 'active'

    function getActiveAnchorId(anchors, offsetRatio) {
      const threshold = window.scrollY + window.innerHeight * offsetRatio
      const tocLinks = [...document.querySelectorAll('#TableOfContents a[href^="#"]')]
      const tocIds = new Set(tocLinks.map(link => link.getAttribute('href').substring(1)))

      for (let i = anchors.length - 1; i >= 0; i--) {
        const top = anchors[i].getBoundingClientRect().top + window.scrollY
        if (top <= threshold && tocIds.has(anchors[i].id)) {
          return anchors[i].id
        }
      }
      return anchors.find(anchor => tocIds.has(anchor.id))?.id || ''
    }

    function updateTOC({ toc, anchors, links, scrollOffset, collapseInactive }) {
      const activeId = getActiveAnchorId(anchors, scrollOffset)
      if (!activeId) return

      links.forEach(link => {
        const isActive = link.getAttribute('href') === `#${activeId}`
        link.classList.toggle(ACTIVE_CLASS, isActive)

        if (collapseInactive) {
          const ul = link.closest('li')?.querySelector('ul')
          if (ul) ul.style.display = isActive ? '' : 'none'
        }
      })

      if (collapseInactive) {
        const activeLink = toc.querySelector(`a[href="#${CSS.escape(activeId)}"]`)
        let el = activeLink
        while (el && el !== toc) {
          if (el.tagName === 'UL') el.style.display = ''
          if (el.tagName === 'LI') el.querySelector('ul')?.style.setProperty('display', '')
          el = el.parentElement
        }
      }
    }

    function initTOC() {
      const toc = document.querySelector(TOC_SELECTOR)
      if (!toc) return

      const collapseInactive = true
      const anchors = [...document.querySelectorAll(ANCHOR_SELECTOR)]
      const links = [...toc.querySelectorAll(TOC_LINK_SELECTOR)]

      if (collapseInactive) {
        toc.querySelectorAll(NESTED_LIST_SELECTOR).forEach(ul => ul.style.display = 'none')
      }

      const config = {
        toc,
        anchors,
        links,
        scrollOffset: SCROLL_OFFSET_RATIO,
        collapseInactive
      }

      window.addEventListener('scroll', () => updateTOC(config), { passive: true })
      window.addEventListener('hashchange', () => updateTOC(config), { passive: true })

      updateTOC(config)
    }

    document.readyState === 'loading'
      ? document.addEventListener('DOMContentLoaded', initTOC)
      : initTOC()
  })()
</script>


            
            
          </div>
        </div>
      


      <div class="min-w-0 min-h-0 max-w-fit">
        

        <div class="article-content max-w-prose mb-20">
          <div class="warning">
<p>⚠️ <strong>WARNING</strong>: This article is under construction. Please come back later</p>
</div>

<h2 class="relative group">Imports 
    <div id="imports" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#imports" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>{ config<span style="color:#fe8019">,</span> pkgs<span style="color:#fe8019">,</span> lib<span style="color:#fe8019">,</span> <span style="color:#fe8019">...</span> }:
</span></span></code></pre></div>
<h2 class="relative group">Global Variables 
    <div id="global-variables" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#global-variables" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>Global variable definition starts with</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#fe8019">let</span>
</span></span></code></pre></div><p>Now here I define my important globals like username, hostname, static ip etc.</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>USERNAME <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;savolla&#34;</span>;
</span></span><span style="display:flex;"><span>HOSTNAME <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;xkarna&#34;</span>;
</span></span><span style="display:flex;"><span>HOME <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;/home/savolla&#34;</span>;
</span></span><span style="display:flex;"><span>ETHERNET_INTERFACE_NAME <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;ens18&#34;</span>;
</span></span><span style="display:flex;"><span>WIRELESS_INTERFACE_NAME <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;wlp2s0&#34;</span>;
</span></span><span style="display:flex;"><span>STATIC_IP_ADDRESS <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;192.168.1.108&#34;</span>;
</span></span><span style="display:flex;"><span>DEFAULT_GATEWAY <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;192.168.1.1&#34;</span>;
</span></span></code></pre></div>
<h3 class="relative group">Package Overrides 
    <div id="package-overrides" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#package-overrides" aria-label="Anchor">#</a>
    </span>        
    
</h3>

<h4 class="relative group">ncmpcpp with visualizer 
    <div id="ncmpcpp-with-visualizer" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#ncmpcpp-with-visualizer" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<p>I use <code>ncmpcpp</code> for listening my music collection. It has a nice visualizer but the default nixos package does not include it for some reason. I override that package with visualizer support</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>ncmpcpp <span style="color:#fe8019">=</span> pkgs<span style="color:#fe8019">.</span>ncmpcpp<span style="color:#fe8019">.</span>override {
</span></span><span style="display:flex;"><span>  visualizerSupport <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  clockSupport <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>}; <span style="color:#928374;font-style:italic"># ncmpcpp with visualizer</span>
</span></span></code></pre></div><p>Global variables definition ends with</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>in
</span></span></code></pre></div>
<h2 class="relative group">Main Configuration 
    <div id="main-configuration" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#main-configuration" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>The main configuration starts with</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>{
</span></span></code></pre></div><p>Like every nixos configuration it must import a <code>hardware-configuration.nix</code> like this</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>imports <span style="color:#fe8019">=</span> [ <span style="color:#b8bb26">./hardware-configuration.nix</span> ];
</span></span></code></pre></div>
<h2 class="relative group">Bootloader 
    <div id="bootloader" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#bootloader" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>I was using <code>libvirt</code> for virtualization before <code>proxmox</code>. These are some kernel modules for nested virtualization (kubernetes). I commented them out since I&rsquo;m now using Talos in my proxmox homelab.</p>
<p>I also use real-time kernel for better I/O performance on my system. It works well for gaming/music production etc.</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>boot <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#928374;font-style:italic"># extraModprobeConfig = &#39;&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#928374;font-style:italic">#   options kvm_intel nested=1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#928374;font-style:italic">#   options kvm_intel emulate_invalid_guest_state=0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#928374;font-style:italic">#   options kvm ignore_msrs=1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#928374;font-style:italic"># &#39;&#39;;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  kernelPackages <span style="color:#fe8019">=</span> pkgs<span style="color:#fe8019">.</span>linuxPackages-rt_latest; <span style="color:#928374;font-style:italic"># linux realtime kernel</span>
</span></span></code></pre></div>
<h3 class="relative group">Grub 
    <div id="grub" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#grub" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>I use <code>grub</code> instead <code>systemd-boot</code> which is the default in nixos. In order to use it I disabled <code>systemd-boot</code> completely and set some <code>grub</code> specific options. <code>saved</code> means that grub will remember your last choice on the next restart.</p>
<p>You can also limit the amount of configuration displayed in the grub menu with <code>configurationLimit</code> option. But I disabled that. with <code>OSProber</code> it will detect other OSes in your drive.</p>
<p>I also enable EFI support.</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>  loader <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>    timeout <span style="color:#fe8019">=</span> <span style="color:#d3869b">5</span>; <span style="color:#928374;font-style:italic"># seconds</span>
</span></span><span style="display:flex;"><span>    systemd-boot<span style="color:#fe8019">.</span>enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">false</span>;
</span></span><span style="display:flex;"><span>    grub <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>      enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>      default <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;saved&#34;</span>;
</span></span><span style="display:flex;"><span>      device <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;nodev&#34;</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#928374;font-style:italic"># configurationLimit = 10;</span>
</span></span><span style="display:flex;"><span>      useOSProber <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>      efiSupport <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>      efiInstallAsRemovable <span style="color:#fe8019">=</span>
</span></span><span style="display:flex;"><span>        <span style="color:#d3869b">true</span>; <span style="color:#928374;font-style:italic"># otherwise /boot/EFI/BOOT/BOOTX64.EFI isn&#39;t generated</span>
</span></span><span style="display:flex;"><span>      extraEntriesBeforeNixOS <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>      efi <span style="color:#fe8019">=</span> { efiSysMountPoint <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;/boot/efi&#34;</span>; };
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h2 class="relative group">External Home Directory 
    <div id="external-home-directory" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#external-home-directory" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>I keep my encrypted home directory separate in 1TB external SSD. When I boot my nixos machine I want it to be mounted under <code>/home/savolla</code>. Since it is an encrypted drive I also needed to setup some decryption operations.</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>environment<span style="color:#fe8019">.</span>etc<span style="color:#fe8019">.</span>crypttab<span style="color:#fe8019">.</span>text <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#39;&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#b8bb26">    homecrypt UUID=5ba30f2e-b06a-4588-b594-70fb46ef16d9 none luks,timeout=120
</span></span></span><span style="display:flex;"><span><span style="color:#b8bb26">  &#39;&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>fileSystems<span style="color:#fe8019">.</span><span style="color:#b8bb26">&#34;/home/savolla&#34;</span> <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  device <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;/dev/mapper/homecrypt&#34;</span>;
</span></span><span style="display:flex;"><span>  fsType <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;ext4&#34;</span>;
</span></span><span style="display:flex;"><span>  options <span style="color:#fe8019">=</span> [ <span style="color:#b8bb26">&#34;x-systemd.device-timeout=10&#34;</span> ];
</span></span><span style="display:flex;"><span>  neededForBoot <span style="color:#fe8019">=</span> <span style="color:#d3869b">false</span>;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># Helpful to ensure USB storage is supported</span>
</span></span><span style="display:flex;"><span>boot<span style="color:#fe8019">.</span>initrd<span style="color:#fe8019">.</span>kernelModules <span style="color:#fe8019">=</span> [ <span style="color:#b8bb26">&#34;usb_storage&#34;</span> ];
</span></span><span style="display:flex;"><span>boot<span style="color:#fe8019">.</span>kernelModules <span style="color:#fe8019">=</span> [ <span style="color:#b8bb26">&#34;usb_storage&#34;</span> ];
</span></span></code></pre></div><p>This <code>timeout</code> attribute doesn&rsquo;t work. I&rsquo;m still experimenting with these options. So it will probably change in the future.</p>

<h2 class="relative group">Hardware 
    <div id="hardware" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#hardware" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>I enable 3D graphics support and Bluetooth support with the following</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>hardware <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  graphics <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>    enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>; <span style="color:#928374;font-style:italic"># enable 3d acceleration</span>
</span></span><span style="display:flex;"><span>    enable32Bit <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>; <span style="color:#928374;font-style:italic"># for older games</span>
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>  bluetooth <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>    enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>; <span style="color:#928374;font-style:italic"># enables support for Bluetooth</span>
</span></span><span style="display:flex;"><span>    powerOnBoot <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>; <span style="color:#928374;font-style:italic"># powers up the default Bl</span>
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h2 class="relative group">Automatic Updates 
    <div id="automatic-updates" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#automatic-updates" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>I generally don&rsquo;t prefer this but I keep it in my config anyway.</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># automatic update</span>
</span></span><span style="display:flex;"><span>system <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  autoUpgrade <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>    enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">false</span>;
</span></span><span style="display:flex;"><span>    dates <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;weekly&#34;</span>;
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h2 class="relative group">Networking 
    <div id="networking" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#networking" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>My networking setup is a little bit messed up. I use <a
  href="https://www.dnscrypt.org/"
    target="_blank"
  >DNSCrypt</a> to bypass censorship and other ISP shenanigans. So my dns is tied to DNSCrypt a little bit..</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>networking <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  hostName <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;</span><span style="color:#b8bb26">${</span>HOSTNAME<span style="color:#b8bb26">}</span><span style="color:#b8bb26">&#34;</span>;
</span></span><span style="display:flex;"><span>  defaultGateway <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;</span><span style="color:#b8bb26">${</span>DEFAULT_GATEWAY<span style="color:#b8bb26">}</span><span style="color:#b8bb26">&#34;</span>;
</span></span><span style="display:flex;"><span>  interfaces <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>    enp4s0 <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>      ipv4<span style="color:#fe8019">.</span>addresses <span style="color:#fe8019">=</span> [{
</span></span><span style="display:flex;"><span>        address <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;</span><span style="color:#b8bb26">${</span>STATIC_IP_ADDRESS<span style="color:#b8bb26">}</span><span style="color:#b8bb26">&#34;</span>;
</span></span><span style="display:flex;"><span>        prefixLength <span style="color:#fe8019">=</span> <span style="color:#d3869b">24</span>;
</span></span><span style="display:flex;"><span>      }];
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>  nameservers <span style="color:#fe8019">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#b8bb26">&#34;127.0.0.1&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#b8bb26">&#34;::1&#34;</span>
</span></span><span style="display:flex;"><span>  ]; <span style="color:#928374;font-style:italic"># dnscrypt requires this. see https://nixos.wiki/wiki/Encrypted_DNS</span>
</span></span></code></pre></div>
<h3 class="relative group">Network Manager 
    <div id="network-manager" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#network-manager" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>networkmanager <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  dns <span style="color:#fe8019">=</span>
</span></span><span style="display:flex;"><span>    <span style="color:#b8bb26">&#34;none&#34;</span>; <span style="color:#928374;font-style:italic"># prevent network manager from overriding dns settings because dnscrypt will handle this part</span>
</span></span><span style="display:flex;"><span>  unmanaged <span style="color:#fe8019">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#b8bb26">&#34;interface-name:ve-*&#34;</span>
</span></span><span style="display:flex;"><span>  ]; <span style="color:#928374;font-style:italic"># for i2p container. network manager should not touch this</span>
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h3 class="relative group">Wireless 
    <div id="wireless" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#wireless" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>I don&rsquo;t have a laptop (yet) so I disable wireless option completely</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># wireless.enable = true; # Enables wireless support via wpa_supplicant.</span>
</span></span></code></pre></div>
<h3 class="relative group">Firewall 
    <div id="firewall" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#firewall" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>I sometimes self-host services in my home network and need a way to access these services from other devices. I use the following firewall settings. Currently I don&rsquo;t host anything but I keep these settings for the potential future use</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>firewall <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>; <span style="color:#928374;font-style:italic"># always keep enabled</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#928374;font-style:italic"># open ports in the firewall.</span>
</span></span><span style="display:flex;"><span>  allowedTCPPorts <span style="color:#fe8019">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#928374;font-style:italic"># 3000</span>
</span></span><span style="display:flex;"><span>  ];
</span></span><span style="display:flex;"><span>  allowedUDPPorts <span style="color:#fe8019">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#928374;font-style:italic"># 9000</span>
</span></span><span style="display:flex;"><span>  ];
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h3 class="relative group">NAT 
    <div id="nat" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#nat" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>I need this because I sometimes expose in-vm services to my home network and I need to translate those ip addresses</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>nat <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  internalInterfaces <span style="color:#fe8019">=</span> [ <span style="color:#b8bb26">&#34;ve-+&#34;</span> ];
</span></span><span style="display:flex;"><span>  externalInterface <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;</span><span style="color:#b8bb26">${</span>ETHERNET_INTERFACE_NAME<span style="color:#b8bb26">}</span><span style="color:#b8bb26">&#34;</span>;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h3 class="relative group">DNS 
    <div id="dns" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#dns" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>In nixos there is no <code>/etc/hosts</code> file. We have the following instead</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>  extraHosts <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#39;&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#b8bb26">      192.168.1.105 api.crc.testing
</span></span></span><span style="display:flex;"><span><span style="color:#b8bb26">      192.168.1.105 console-openshift-console.apps-crc.testing
</span></span></span><span style="display:flex;"><span><span style="color:#b8bb26">      192.168.1.105 oauth-openshift.apps-crc.testing
</span></span></span><span style="display:flex;"><span><span style="color:#b8bb26">      192.168.1.105 java-demo-java-demo.apps-crc.testing
</span></span></span><span style="display:flex;"><span><span style="color:#b8bb26">      192.168.1.105 argocd-sample-server-java-demo.apps-crc.testing
</span></span></span><span style="display:flex;"><span><span style="color:#b8bb26">    &#39;&#39;</span>;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h2 class="relative group">Localization 
    <div id="localization" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#localization" aria-label="Anchor">#</a>
    </span>        
    
</h2>

<h3 class="relative group">Timezone 
    <div id="timezone" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#timezone" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>time<span style="color:#fe8019">.</span>timeZone <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;Europe/Istanbul&#34;</span>;
</span></span></code></pre></div>
<h3 class="relative group">Internationalisation 
    <div id="internationalisation" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#internationalisation" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>i18n <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  defaultLocale <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;en_US.UTF-8&#34;</span>;
</span></span><span style="display:flex;"><span>  extraLocaleSettings <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>    LC_ADDRESS <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;tr_TR.UTF-8&#34;</span>;
</span></span><span style="display:flex;"><span>    LC_IDENTIFICATION <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;tr_TR.UTF-8&#34;</span>;
</span></span><span style="display:flex;"><span>    LC_MEASUREMENT <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;tr_TR.UTF-8&#34;</span>;
</span></span><span style="display:flex;"><span>    LC_MONETARY <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;tr_TR.UTF-8&#34;</span>;
</span></span><span style="display:flex;"><span>    LC_NAME <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;tr_TR.UTF-8&#34;</span>;
</span></span><span style="display:flex;"><span>    LC_NUMERIC <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;tr_TR.UTF-8&#34;</span>;
</span></span><span style="display:flex;"><span>    LC_PAPER <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;tr_TR.UTF-8&#34;</span>;
</span></span><span style="display:flex;"><span>    LC_TELEPHONE <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;tr_TR.UTF-8&#34;</span>;
</span></span><span style="display:flex;"><span>    LC_TIME <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;tr_TR.UTF-8&#34;</span>;
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h3 class="relative group">Console Keymap 
    <div id="console-keymap" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#console-keymap" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>console<span style="color:#fe8019">.</span>keyMap <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;trq&#34;</span>;
</span></span></code></pre></div>
<h2 class="relative group">Users 
    <div id="users" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#users" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>NixOS displays &ldquo;message of the day&rdquo; on console login. I disable it with</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>users <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  motdFile <span style="color:#fe8019">=</span> <span style="color:#d3869b">null</span>; <span style="color:#928374;font-style:italic"># disable message of the day on tty</span>
</span></span></code></pre></div><p>Setting some basic options for my user <code>savolla</code></p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>users<span style="color:#fe8019">.</span><span style="color:#b8bb26">&#34;</span><span style="color:#b8bb26">${</span>USERNAME<span style="color:#b8bb26">}</span><span style="color:#b8bb26">&#34;</span> <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  isNormalUser <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  home <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;/home/savolla&#34;</span>;
</span></span><span style="display:flex;"><span>  shell <span style="color:#fe8019">=</span> pkgs<span style="color:#fe8019">.</span>zsh;
</span></span><span style="display:flex;"><span>  description <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;</span><span style="color:#b8bb26">${</span>USERNAME<span style="color:#b8bb26">}</span><span style="color:#b8bb26">&#34;</span>;
</span></span></code></pre></div><p>Adding my user to important groups</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>extraGroups <span style="color:#fe8019">=</span> [
</span></span><span style="display:flex;"><span>  <span style="color:#b8bb26">&#34;networkmanager&#34;</span> <span style="color:#928374;font-style:italic"># wifi etc.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#b8bb26">&#34;wheel&#34;</span> <span style="color:#928374;font-style:italic"># sudo</span>
</span></span><span style="display:flex;"><span>  <span style="color:#b8bb26">&#34;input&#34;</span> <span style="color:#928374;font-style:italic"># xorg</span>
</span></span><span style="display:flex;"><span>  <span style="color:#b8bb26">&#34;video&#34;</span> <span style="color:#928374;font-style:italic"># xorg</span>
</span></span><span style="display:flex;"><span>  <span style="color:#b8bb26">&#34;audio&#34;</span> <span style="color:#928374;font-style:italic"># pipewire</span>
</span></span><span style="display:flex;"><span>  <span style="color:#b8bb26">&#34;libvirtd&#34;</span> <span style="color:#928374;font-style:italic"># virtualization</span>
</span></span><span style="display:flex;"><span>  <span style="color:#b8bb26">&#34;docker&#34;</span> <span style="color:#928374;font-style:italic"># run docker commands withour sudo</span>
</span></span><span style="display:flex;"><span>  <span style="color:#b8bb26">&#34;podman&#34;</span> <span style="color:#928374;font-style:italic"># run podman commmands without sudo</span>
</span></span><span style="display:flex;"><span>  <span style="color:#b8bb26">&#34;vboxusers&#34;</span> <span style="color:#928374;font-style:italic"># vbox guest additions and clipboard share</span>
</span></span><span style="display:flex;"><span>  <span style="color:#b8bb26">&#34;kvm&#34;</span> <span style="color:#928374;font-style:italic"># android emulation with kvm (faster)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#b8bb26">&#34;adbusers&#34;</span> <span style="color:#928374;font-style:italic"># interact with android and emulators with adb</span>
</span></span><span style="display:flex;"><span>  <span style="color:#b8bb26">&#34;systemd-journal&#34;</span> <span style="color:#928374;font-style:italic"># watch system logs with `journalctl -f` witout sudo password</span>
</span></span><span style="display:flex;"><span>];
</span></span></code></pre></div><p>I once tried to run <code>gparted</code> on wayland and I came with the following solution but it doesn&rsquo;t work anymore.. probably will delete it later..</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>  packages <span style="color:#fe8019">=</span> <span style="color:#fe8019">with</span> pkgs;
</span></span><span style="display:flex;"><span>    [
</span></span><span style="display:flex;"><span>      gparted <span style="color:#928374;font-style:italic"># install this as a user package to prevent errors in wayland</span>
</span></span><span style="display:flex;"><span>    ];
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h2 class="relative group">Nix 
    <div id="nix" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#nix" aria-label="Anchor">#</a>
    </span>        
    
</h2>

<h3 class="relative group">Flakes 
    <div id="flakes" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#flakes" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>I&rsquo;m enabling flakes support</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># nix config</span>
</span></span><span style="display:flex;"><span>nix <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  settings <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>    experimental-features <span style="color:#fe8019">=</span> [ <span style="color:#b8bb26">&#34;flakes&#34;</span> <span style="color:#b8bb26">&#34;nix-command&#34;</span> ];
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h3 class="relative group">Unfree Packages 
    <div id="unfree-packages" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#unfree-packages" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>Nix does not allow unfree packages by default. You need to enable them explicitly</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>nixpkgs <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  config <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>    allowUnfree <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>    allowUnsupportedSystem <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>    permittedInsecurePackages <span style="color:#fe8019">=</span> [ <span style="color:#b8bb26">&#34;electron-27.3.11&#34;</span> ];
</span></span><span style="display:flex;"><span>  };
</span></span></code></pre></div>
<h3 class="relative group">Package Overlays 
    <div id="package-overlays" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#package-overlays" aria-label="Anchor">#</a>
    </span>        
    
</h3>

<h4 class="relative group">mpv 
    <div id="mpv" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#mpv" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<p>I usually like to watch YouTube videos using <code>mpv</code>. <strong>quality-menu</strong> lets me switch between video and audio qualities easily. <strong>quack</strong> on the other hand temporarily reduces video quality on video skimming.</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>overlays <span style="color:#fe8019">=</span> [
</span></span><span style="display:flex;"><span>  (self: super: {
</span></span><span style="display:flex;"><span>    mpv <span style="color:#fe8019">=</span> super<span style="color:#fe8019">.</span>mpv<span style="color:#fe8019">.</span>override {
</span></span><span style="display:flex;"><span>      scripts <span style="color:#fe8019">=</span> [
</span></span><span style="display:flex;"><span>        <span style="color:#928374;font-style:italic"># select youtube video quality from the player</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#fe8019">.</span>mpvScripts<span style="color:#fe8019">.</span>quality-menu
</span></span><span style="display:flex;"><span>        <span style="color:#928374;font-style:italic"># temporarily reduce video and audio quality when skipping</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#fe8019">.</span>mpvScripts<span style="color:#fe8019">.</span>quack
</span></span><span style="display:flex;"><span>      ];
</span></span><span style="display:flex;"><span>    };
</span></span></code></pre></div>
<h4 class="relative group">weechat 
    <div id="weechat" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#weechat" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<p>I use some addons in my <code>weechat</code> config such as <strong>url_hint</strong>, <strong>colorize_nicks</strong> and <strong>weechat-notify-send</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>        weechat <span style="color:#fe8019">=</span> super<span style="color:#fe8019">.</span>weechat<span style="color:#fe8019">.</span>override {
</span></span><span style="display:flex;"><span>        configure <span style="color:#fe8019">=</span> { availablePlugins<span style="color:#fe8019">,</span> <span style="color:#fe8019">...</span> }: {
</span></span><span style="display:flex;"><span>          scripts <span style="color:#fe8019">=</span> <span style="color:#fe8019">with</span> super<span style="color:#fe8019">.</span>weechatScripts; [
</span></span><span style="display:flex;"><span>            url_hint
</span></span><span style="display:flex;"><span>            colorize_nicks
</span></span><span style="display:flex;"><span>            weechat-notify-send
</span></span><span style="display:flex;"><span>          ];
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>      };
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>  ];
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h2 class="relative group">Theme 
    <div id="theme" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#theme" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>Enabling global dark theme without a proper DE is always painful. In NixOS it is pain in the ass..</p>
<p><strong>Qt Apps</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>qt<span style="color:#fe8019">.</span>style <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;adwaita-dark&#34;</span>;
</span></span></code></pre></div><p><strong>GTK Apps</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># set variables for all users (including root)</span>
</span></span><span style="display:flex;"><span>environment<span style="color:#fe8019">.</span>sessionVariables <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  GTK_THEME <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;Adwaita:dark&#34;</span>; <span style="color:#928374;font-style:italic"># make sudo applications use dark theme</span>
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h2 class="relative group">Environment Variables 
    <div id="environment-variables" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#environment-variables" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>I apply different settings in my <code>.xprofile</code> and <code>.profile</code> depending on the current nixos specialisation. So I use an env. variable <code>CURRENT_NIXOS_SPECIALISATION</code> for this. The default value is &ldquo;vanila&rdquo;. I also have &ldquo;nvidia&rdquo; and &ldquo;musician&rdquo;. See <strong>Specialisations</strong> section below</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>environment <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  stub-ld<span style="color:#fe8019">.</span>enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  variables <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>    CURRENT_NIXOS_SPECIALISATION <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;vanila&#34;</span>;
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h2 class="relative group">Filesystem Check 
    <div id="filesystem-check" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#filesystem-check" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>I should probably enable file system checks again. But it sometimes takes too much time on boot.</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>fileSystems <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#b8bb26">&#34;/&#34;</span><span style="color:#fe8019">.</span>noCheck <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#b8bb26">&#34;/boot/efi&#34;</span><span style="color:#fe8019">.</span>noCheck <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h2 class="relative group">Packages 
    <div id="packages" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#packages" aria-label="Anchor">#</a>
    </span>        
    
</h2>

<h3 class="relative group">Editors 
    <div id="editors" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#editors" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>environment<span style="color:#fe8019">.</span>systemPackages <span style="color:#fe8019">=</span> <span style="color:#fe8019">with</span> pkgs; [
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#928374;font-style:italic"># editors</span>
</span></span><span style="display:flex;"><span>  vim <span style="color:#928374;font-style:italic"># fallback text editor</span>
</span></span><span style="display:flex;"><span>  neovim <span style="color:#928374;font-style:italic"># better vim</span>
</span></span><span style="display:flex;"><span>  <span style="color:#928374;font-style:italic"># emacs-pgtk # transparency works in wayland</span>
</span></span><span style="display:flex;"><span>  emacs-gtk <span style="color:#928374;font-style:italic"># true transparency works with this one on xorg</span>
</span></span><span style="display:flex;"><span>  vscodium <span style="color:#928374;font-style:italic"># just in case ide</span>
</span></span><span style="display:flex;"><span>  jetbrains<span style="color:#fe8019">.</span>webstorm <span style="color:#928374;font-style:italic"># vscode sucks sometimes</span>
</span></span></code></pre></div>
<h3 class="relative group">Virtualization 
    <div id="virtualization" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#virtualization" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># virtualization</span>
</span></span><span style="display:flex;"><span>vagrant <span style="color:#928374;font-style:italic"># declarative virtual machines</span>
</span></span><span style="display:flex;"><span>quickemu <span style="color:#928374;font-style:italic"># installed for installing macos sonoma (for react-native dev)</span>
</span></span><span style="display:flex;"><span>quickgui <span style="color:#928374;font-style:italic"># gui for quickemu</span>
</span></span><span style="display:flex;"><span>guestfs-tools <span style="color:#928374;font-style:italic"># bunch of tools with virt-sparsify</span>
</span></span><span style="display:flex;"><span>virglrenderer <span style="color:#928374;font-style:italic"># allows a qemu guest to use the host GPU for accelerated 3D rendering</span>
</span></span><span style="display:flex;"><span>virt-viewer <span style="color:#928374;font-style:italic"># viewer for qemu</span>
</span></span><span style="display:flex;"><span>spice-vdagent <span style="color:#928374;font-style:italic"># shared clipboard between qemu guests and host</span>
</span></span><span style="display:flex;"><span>qemu <span style="color:#928374;font-style:italic"># all supported architectures like arm, mips, powerpc etc.</span>
</span></span><span style="display:flex;"><span>distrobox <span style="color:#928374;font-style:italic"># run other distrox using docker</span>
</span></span><span style="display:flex;"><span>edk2 <span style="color:#928374;font-style:italic"># for osx-kvm (tianocore uefi)</span>
</span></span><span style="display:flex;"><span>edk2-uefi-shell <span style="color:#928374;font-style:italic"># for osx-kvm (tianocore uefi)</span>
</span></span><span style="display:flex;"><span>OVMFFull
</span></span><span style="display:flex;"><span>virtiofsd <span style="color:#928374;font-style:italic"># share file system between host and guests</span>
</span></span></code></pre></div>
<h3 class="relative group">Wayland 
    <div id="wayland" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#wayland" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># wayland related</span>
</span></span><span style="display:flex;"><span>waybar <span style="color:#928374;font-style:italic"># status bar for wayland</span>
</span></span><span style="display:flex;"><span>rofi-wayland <span style="color:#928374;font-style:italic"># application launcher</span>
</span></span><span style="display:flex;"><span>wl-clipboard <span style="color:#928374;font-style:italic"># wayland clipboard</span>
</span></span><span style="display:flex;"><span>slurp <span style="color:#928374;font-style:italic"># region select. combine it with grim to select region for screenshot</span>
</span></span><span style="display:flex;"><span>grim <span style="color:#928374;font-style:italic"># screenshot utility</span>
</span></span><span style="display:flex;"><span>gammastep <span style="color:#928374;font-style:italic"># redshift/sct alternative for wayland</span>
</span></span><span style="display:flex;"><span>swaybg <span style="color:#928374;font-style:italic"># set wallpapers in wayland</span>
</span></span><span style="display:flex;"><span>ydotool <span style="color:#928374;font-style:italic"># xdotool for wayland</span>
</span></span></code></pre></div>
<h3 class="relative group">Gaming 
    <div id="gaming" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#gaming" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>I don&rsquo;t play games anymore but I once built a sane gaming setup on NixOS. There you go if you need it.</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># gaming stuff</span>
</span></span><span style="display:flex;"><span>lutris <span style="color:#928374;font-style:italic"># install and launch windows and linux games</span>
</span></span><span style="display:flex;"><span>mangohud <span style="color:#928374;font-style:italic"># display fps, temperature etc.</span>
</span></span><span style="display:flex;"><span>cabextract <span style="color:#928374;font-style:italic"># installed this to install Age of Empires Online (prefix that was created by Kron4ek)</span>
</span></span><span style="display:flex;"><span>bottles-unwrapped <span style="color:#928374;font-style:italic"># powerful wine thing</span>
</span></span><span style="display:flex;"><span>unigine-valley <span style="color:#928374;font-style:italic"># test GPU drivers</span>
</span></span><span style="display:flex;"><span>protonup <span style="color:#928374;font-style:italic"># proton-ge</span>
</span></span><span style="display:flex;"><span>wineWowPackages<span style="color:#fe8019">.</span>staging <span style="color:#928374;font-style:italic"># wine staging version</span>
</span></span><span style="display:flex;"><span>winetricks <span style="color:#928374;font-style:italic"># install windows dlls with this</span>
</span></span><span style="display:flex;"><span>retroarchFull <span style="color:#928374;font-style:italic"># retroarch + cores</span>
</span></span><span style="display:flex;"><span>ryujinx <span style="color:#928374;font-style:italic"># switch emulator</span>
</span></span><span style="display:flex;"><span>antimicrox <span style="color:#928374;font-style:italic"># map ps4 controller keys to nintendo switch and others</span>
</span></span><span style="display:flex;"><span>nsz <span style="color:#928374;font-style:italic"># .nsz to .nsp nintendo switch game convertor for ryujinx emulator</span>
</span></span><span style="display:flex;"><span>input-remapper <span style="color:#928374;font-style:italic"># map mouse movement to joystick. (play ryujinx games with mouse and keyboard)</span>
</span></span><span style="display:flex;"><span>qjoypad <span style="color:#928374;font-style:italic"># play ryujinx games with mouse and keyboard</span>
</span></span><span style="display:flex;"><span>sc-controller <span style="color:#928374;font-style:italic"># emulate joysticks on linux (to play swtich games using mouse and keyboard)</span>
</span></span></code></pre></div>
<h3 class="relative group">Music Production 
    <div id="music-production" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#music-production" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>I was using NixOS for music production but since I started using Proxmox I migrated to Windows 10.</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic">## music</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># daw</span>
</span></span><span style="display:flex;"><span>reaper
</span></span><span style="display:flex;"><span>sonic-pi
</span></span><span style="display:flex;"><span>faust <span style="color:#928374;font-style:italic"># dsp language</span>
</span></span><span style="display:flex;"><span>faust2jaqt <span style="color:#928374;font-style:italic"># faust dependency</span>
</span></span><span style="display:flex;"><span>supercollider_scel <span style="color:#928374;font-style:italic"># supercollider with emacs extension scel</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># guitar stuff</span>
</span></span><span style="display:flex;"><span>gxplugins-lv2 <span style="color:#928374;font-style:italic"># guitar amps, pedals, effects</span>
</span></span><span style="display:flex;"><span>neural-amp-modeler-lv2 <span style="color:#928374;font-style:italic"># you&#39;ll download guitar tones for this below</span>
</span></span><span style="display:flex;"><span>guitarix <span style="color:#928374;font-style:italic"># a virtual guitar amplifier for Linux running with JACK</span>
</span></span><span style="display:flex;"><span>tuxguitar <span style="color:#928374;font-style:italic"># guitar pro for linux</span>
</span></span><span style="display:flex;"><span>musescore <span style="color:#928374;font-style:italic"># sheet happens</span>
</span></span><span style="display:flex;"><span>tonelib-jam <span style="color:#928374;font-style:italic"># 3d tab editor (paid)</span>
</span></span><span style="display:flex;"><span>tonelib-gfx <span style="color:#928374;font-style:italic"># good guitar amp</span>
</span></span><span style="display:flex;"><span>tonelib-metal <span style="color:#928374;font-style:italic"># all in one guitar rig</span>
</span></span><span style="display:flex;"><span>proteus <span style="color:#928374;font-style:italic"># NAM</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># VST (open source)</span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># distrho # not in packages anymore</span>
</span></span><span style="display:flex;"><span>calf <span style="color:#928374;font-style:italic"># high quality music production plugins and vsts</span>
</span></span><span style="display:flex;"><span>eq10q
</span></span><span style="display:flex;"><span>lsp-plugins <span style="color:#928374;font-style:italic"># collection of open-source audio plugins</span>
</span></span><span style="display:flex;"><span>x42-plugins <span style="color:#928374;font-style:italic"># collection of lv2 plugins by Robin Gareus</span>
</span></span><span style="display:flex;"><span>x42-gmsynth
</span></span><span style="display:flex;"><span>dragonfly-reverb
</span></span><span style="display:flex;"><span>FIL-plugins
</span></span><span style="display:flex;"><span>geonkick
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># utils</span>
</span></span><span style="display:flex;"><span>wineasio <span style="color:#928374;font-style:italic"># for playing Rocksmith 2014 Remastered</span>
</span></span><span style="display:flex;"><span>alsa-scarlett-gui <span style="color:#928374;font-style:italic"># focusrite scarlett solo gui</span>
</span></span><span style="display:flex;"><span>yabridge <span style="color:#928374;font-style:italic"># use windows vsts on linux wine is requirement here</span>
</span></span><span style="display:flex;"><span>yabridgectl <span style="color:#928374;font-style:italic"># yabridge control utility</span>
</span></span><span style="display:flex;"><span>scarlett2 <span style="color:#928374;font-style:italic"># update firmware of focusrite scarlett devices</span>
</span></span><span style="display:flex;"><span>tenacity <span style="color:#928374;font-style:italic"># audaicty fork</span>
</span></span><span style="display:flex;"><span>klick <span style="color:#928374;font-style:italic"># cli metronom</span>
</span></span><span style="display:flex;"><span>qpwgraph
</span></span><span style="display:flex;"><span>qjackctl <span style="color:#928374;font-style:italic"># reduce latency</span>
</span></span><span style="display:flex;"><span>helvum <span style="color:#928374;font-style:italic"># modern jack ui</span>
</span></span></code></pre></div>
<h3 class="relative group">Compiling Tools 
    <div id="compiling-tools" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#compiling-tools" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>NixOS is not pretty when it comes to &ldquo;compiling&rdquo; from source but I was using <code>crosstool-ng</code> to build toolchains for BeagleBoneBlack and Raspberry Pi. These are the requirements</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># compiling</span>
</span></span><span style="display:flex;"><span>stdenv <span style="color:#928374;font-style:italic"># build-essentials</span>
</span></span><span style="display:flex;"><span>help2man <span style="color:#928374;font-style:italic"># for crosstool-ng dep</span>
</span></span><span style="display:flex;"><span>gnumake <span style="color:#928374;font-style:italic"># make for all</span>
</span></span><span style="display:flex;"><span>autoconf <span style="color:#928374;font-style:italic"># for crosstool-ng dep</span>
</span></span><span style="display:flex;"><span>audit <span style="color:#928374;font-style:italic"># for crosstool-ng dep</span>
</span></span><span style="display:flex;"><span>automake <span style="color:#928374;font-style:italic"># for crosstool-ng dep</span>
</span></span><span style="display:flex;"><span>gcc <span style="color:#928374;font-style:italic"># for crosstool-ng dep</span>
</span></span><span style="display:flex;"><span>flex <span style="color:#928374;font-style:italic"># for crosstool-ng dep</span>
</span></span><span style="display:flex;"><span>file
</span></span><span style="display:flex;"><span>bison
</span></span><span style="display:flex;"><span>ncurses
</span></span><span style="display:flex;"><span>freetype <span style="color:#928374;font-style:italic"># to be able to compile suckless utils</span>
</span></span></code></pre></div>
<h3 class="relative group">LaTeX 
    <div id="latex" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#latex" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>I use Emacs&rsquo;s org-mode feature A LOT for writing and exporting my documents to various formats like pdf, html, slides etc. I have my own pdf export template. The following packages are the dependencies for this template</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># latex</span>
</span></span><span style="display:flex;"><span>texliveFull <span style="color:#928374;font-style:italic"># full latex environment for pdf exports (doom emacs)</span>
</span></span><span style="display:flex;"><span>texlivePackages<span style="color:#fe8019">.</span>booktabs <span style="color:#928374;font-style:italic"># Publication quality tables in LaTeX</span>
</span></span><span style="display:flex;"><span>texlivePackages<span style="color:#fe8019">.</span>fvextra <span style="color:#928374;font-style:italic"># Extensions and patches for fancyvrb (for syntax highlighting)</span>
</span></span><span style="display:flex;"><span>texlivePackages<span style="color:#fe8019">.</span>xcolor <span style="color:#928374;font-style:italic"># Driver-independent color extensions for LaTeX and pdfLaTeX</span>
</span></span><span style="display:flex;"><span>texlivePackages<span style="color:#fe8019">.</span>fontspec <span style="color:#928374;font-style:italic"># Advanced font selection in XeLaTeX and LuaLaTeX</span>
</span></span><span style="display:flex;"><span>texlivePackages<span style="color:#fe8019">.</span>microtype <span style="color:#928374;font-style:italic"># Subliminal refinements towards typographical perfection</span>
</span></span><span style="display:flex;"><span>texlivePackages<span style="color:#fe8019">.</span>titlesec <span style="color:#928374;font-style:italic"># Select alternative section titles</span>
</span></span><span style="display:flex;"><span>texlivePackages<span style="color:#fe8019">.</span>minted <span style="color:#928374;font-style:italic"># syntax highlighting</span>
</span></span><span style="display:flex;"><span>latexminted <span style="color:#928374;font-style:italic"># just in case</span>
</span></span><span style="display:flex;"><span>texlivePackages<span style="color:#fe8019">.</span>librebaskerville <span style="color:#928374;font-style:italic"># main font</span>
</span></span><span style="display:flex;"><span>libre-baskerville <span style="color:#928374;font-style:italic"># above font does not work</span>
</span></span><span style="display:flex;"><span>texlivePackages<span style="color:#fe8019">.</span>plex <span style="color:#928374;font-style:italic"># sans and mono fonts</span>
</span></span></code></pre></div>
<h3 class="relative group">Development 
    <div id="development" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#development" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># development</span>
</span></span><span style="display:flex;"><span>gh <span style="color:#928374;font-style:italic"># github cli</span>
</span></span><span style="display:flex;"><span>tts <span style="color:#928374;font-style:italic"># coqui-ai TTS (works with cpu)</span>
</span></span><span style="display:flex;"><span>drawio <span style="color:#928374;font-style:italic"># draw rldb, uml diagrams etc.</span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># android-studio # for testing react native apps in emulators</span>
</span></span><span style="display:flex;"><span>lua <span style="color:#928374;font-style:italic"># other python</span>
</span></span><span style="display:flex;"><span>ruby <span style="color:#928374;font-style:italic"># language</span>
</span></span><span style="display:flex;"><span>pkg-config <span style="color:#928374;font-style:italic"># needed for building ruby files</span>
</span></span><span style="display:flex;"><span>shfmt <span style="color:#928374;font-style:italic"># doom emacs&#39;s dep for bash file formatter to work</span>
</span></span><span style="display:flex;"><span>spring-boot-cli <span style="color:#928374;font-style:italic"># vite for java (spring boot)</span>
</span></span></code></pre></div>
<h4 class="relative group">Frontend 
    <div id="frontend" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#frontend" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># frontend development</span>
</span></span><span style="display:flex;"><span>nodePackages<span style="color:#fe8019">.</span>prettier <span style="color:#928374;font-style:italic"># prettier code formatter for js/ts</span>
</span></span><span style="display:flex;"><span>figma-linux <span style="color:#928374;font-style:italic"># frontend development</span>
</span></span><span style="display:flex;"><span>firefox-devedition <span style="color:#928374;font-style:italic"># bin edition because nix tries to compile `firefox-devedition` and fails</span>
</span></span><span style="display:flex;"><span>pnpm <span style="color:#928374;font-style:italic"># better npm?</span>
</span></span><span style="display:flex;"><span>jpegoptim <span style="color:#928374;font-style:italic"># optimize jpeg</span>
</span></span><span style="display:flex;"><span>optipng <span style="color:#928374;font-style:italic"># optimize png</span>
</span></span><span style="display:flex;"><span>libwebp <span style="color:#928374;font-style:italic"># convert images to webp</span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># responsively-app # responsive design helper</span>
</span></span></code></pre></div>
<h4 class="relative group">Backend 
    <div id="backend" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#backend" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># backend development</span>
</span></span><span style="display:flex;"><span>insomnia <span style="color:#928374;font-style:italic"># make api calls easily (postman alternative)</span>
</span></span><span style="display:flex;"><span>dbeaver-bin <span style="color:#928374;font-style:italic"># database awesomeness</span>
</span></span></code></pre></div>
<h4 class="relative group">Mobile 
    <div id="mobile" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#mobile" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># mobile development</span>
</span></span><span style="display:flex;"><span>genymotion <span style="color:#928374;font-style:italic"># for testing react native apps in emulators</span>
</span></span><span style="display:flex;"><span>react-native-debugger <span style="color:#928374;font-style:italic"># official react-native debugger</span>
</span></span><span style="display:flex;"><span>sdkmanager <span style="color:#928374;font-style:italic"># manage android sdk versions</span>
</span></span><span style="display:flex;"><span>jdk <span style="color:#928374;font-style:italic"># for JAVA installation. needed for android sdk and other apps (this installs the latest version of jdk)</span>
</span></span><span style="display:flex;"><span>nodePackages_latest<span style="color:#fe8019">.</span>eas-cli <span style="color:#928374;font-style:italic"># build expo apk and dmg</span>
</span></span><span style="display:flex;"><span>bundletool <span style="color:#928374;font-style:italic"># convert .abb to .apk</span>
</span></span></code></pre></div>
<h4 class="relative group">Gamedev 
    <div id="gamedev" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#gamedev" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># game development</span>
</span></span><span style="display:flex;"><span>love <span style="color:#928374;font-style:italic"># awesome 2d game engine written in lua</span>
</span></span><span style="display:flex;"><span>godot_4 <span style="color:#928374;font-style:italic"># 3d and 2d game engine</span>
</span></span></code></pre></div>
<h3 class="relative group">DevOps 
    <div id="devops" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#devops" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># devops</span>
</span></span><span style="display:flex;"><span>camunda-modeler <span style="color:#928374;font-style:italic"># business modeling tool</span>
</span></span><span style="display:flex;"><span>eclipses<span style="color:#fe8019">.</span>eclipse-java <span style="color:#928374;font-style:italic"># for camunda and spring boot</span>
</span></span><span style="display:flex;"><span>terraform <span style="color:#928374;font-style:italic"># iac</span>
</span></span><span style="display:flex;"><span>ansible <span style="color:#928374;font-style:italic"># cac</span>
</span></span><span style="display:flex;"><span>awscli2 <span style="color:#928374;font-style:italic"># aws cli tools</span>
</span></span><span style="display:flex;"><span>argocd <span style="color:#928374;font-style:italic"># control argocd instances from commandline</span>
</span></span></code></pre></div>
<h4 class="relative group">Kubernetes 
    <div id="kubernetes" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#kubernetes" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># minikube # kubernetes testing and learning environment</span>
</span></span><span style="display:flex;"><span>openshift <span style="color:#928374;font-style:italic"># kubernetes for stake holders</span>
</span></span><span style="display:flex;"><span>crc <span style="color:#928374;font-style:italic"># locally install openshift</span>
</span></span><span style="display:flex;"><span>kubernetes-helm <span style="color:#928374;font-style:italic"># kubernetes package manager</span>
</span></span><span style="display:flex;"><span>talosctl <span style="color:#928374;font-style:italic"># control talos clusters</span>
</span></span><span style="display:flex;"><span>k9s <span style="color:#928374;font-style:italic"># lazy kubernetes</span>
</span></span><span style="display:flex;"><span>kubectl <span style="color:#928374;font-style:italic"># control your k8s cluster from your local machine</span>
</span></span><span style="display:flex;"><span>kubernetes-helm <span style="color:#928374;font-style:italic"># kubernetes package manager</span>
</span></span><span style="display:flex;"><span>docker-compose <span style="color:#928374;font-style:italic"># poor man&#39;s kubernetes</span>
</span></span></code></pre></div>
<h4 class="relative group">Local Stack 
    <div id="local-stack" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#local-stack" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>localstack <span style="color:#928374;font-style:italic"># local aws</span>
</span></span><span style="display:flex;"><span>terraform-local <span style="color:#928374;font-style:italic"># use terraform with localstack</span>
</span></span></code></pre></div>
<h3 class="relative group">Doom Emacs Specific 
    <div id="doom-emacs-specific" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#doom-emacs-specific" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>I use Doom Emacs for almost anything. programming, writing, blogging, terminal multiplexing and even music listening. But to do all those things it needs some dependencies.</p>

<h4 class="relative group">Dirvish Deps 
    <div id="dirvish-deps" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#dirvish-deps" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># doom emacs dirvish</span>
</span></span><span style="display:flex;"><span>vips <span style="color:#928374;font-style:italic"># display images in emacs buffer</span>
</span></span><span style="display:flex;"><span>poppler-utils <span style="color:#928374;font-style:italic"># view pdfs first page</span>
</span></span><span style="display:flex;"><span>ffmpegthumbnailer <span style="color:#928374;font-style:italic"># extract thumbnails from videos</span>
</span></span><span style="display:flex;"><span>mediainfo <span style="color:#928374;font-style:italic"># for displaying audio metadata</span>
</span></span><span style="display:flex;"><span>epub-thumbnailer <span style="color:#928374;font-style:italic"># for displaying epub covers</span>
</span></span></code></pre></div>
<h4 class="relative group">LSP Deps 
    <div id="lsp-deps" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#lsp-deps" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<!--list-separator-->
<ul>
<li>
<p>C/C++</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># c/c++ (clang lsp)</span>
</span></span><span style="display:flex;"><span>ccls
</span></span><span style="display:flex;"><span>glslang
</span></span><span style="display:flex;"><span>clang
</span></span><span style="display:flex;"><span>clang-tools
</span></span></code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Shell</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># shell</span>
</span></span><span style="display:flex;"><span>shellcheck
</span></span></code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Rust</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic">## rust</span>
</span></span><span style="display:flex;"><span>cargo
</span></span><span style="display:flex;"><span>rustc
</span></span><span style="display:flex;"><span>rust-analyzer
</span></span></code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Nix</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># nix</span>
</span></span><span style="display:flex;"><span>nixfmt-classic <span style="color:#928374;font-style:italic"># formatting</span>
</span></span><span style="display:flex;"><span>nil <span style="color:#928374;font-style:italic"># language server</span>
</span></span></code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Python</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>python311Packages<span style="color:#fe8019">.</span>isort
</span></span><span style="display:flex;"><span>python311Packages<span style="color:#fe8019">.</span>pytest
</span></span><span style="display:flex;"><span>python311Packages<span style="color:#fe8019">.</span>nose2
</span></span><span style="display:flex;"><span>python311Packages<span style="color:#fe8019">.</span>nose2pytest
</span></span><span style="display:flex;"><span>python313Packages<span style="color:#fe8019">.</span>diagrams
</span></span><span style="display:flex;"><span>pipenv
</span></span><span style="display:flex;"><span>black <span style="color:#928374;font-style:italic"># python-mode code formatter</span>
</span></span><span style="display:flex;"><span>python313Packages<span style="color:#fe8019">.</span>pyflakes <span style="color:#928374;font-style:italic"># python-mode import reordering</span>
</span></span><span style="display:flex;"><span>python313Packages<span style="color:#fe8019">.</span>nose2 <span style="color:#928374;font-style:italic"># python-mode tests</span>
</span></span></code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Web</p>
<p>HTML, CSS, JS etc.</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># web</span>
</span></span><span style="display:flex;"><span>html-tidy
</span></span><span style="display:flex;"><span>stylelint
</span></span><span style="display:flex;"><span>jsbeautifier
</span></span><span style="display:flex;"><span>rustywind <span style="color:#928374;font-style:italic"># for tailwind lsp</span>
</span></span></code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Docker</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>dockfmt <span style="color:#928374;font-style:italic"># docker file formatting</span>
</span></span></code></pre></div></li>
</ul>

<h4 class="relative group">Other 
    <div id="other" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#other" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>ispell <span style="color:#928374;font-style:italic"># emacs spell checking dep</span>
</span></span><span style="display:flex;"><span>ripgrep <span style="color:#928374;font-style:italic"># doom emacs dep</span>
</span></span></code></pre></div>
<h3 class="relative group">Communication 
    <div id="communication" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#communication" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>ferdium <span style="color:#928374;font-style:italic"># communication</span>
</span></span><span style="display:flex;"><span>gajim <span style="color:#928374;font-style:italic"># xmpp client for linux</span>
</span></span><span style="display:flex;"><span>nicotine-plus <span style="color:#928374;font-style:italic"># pure piracy</span>
</span></span></code></pre></div>
<h3 class="relative group">Multimedia 
    <div id="multimedia" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#multimedia" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>jamesdsp <span style="color:#928374;font-style:italic"># equalizer for pipewire</span>
</span></span><span style="display:flex;"><span>mpd <span style="color:#928374;font-style:italic"># music player daemon</span>
</span></span><span style="display:flex;"><span>mpc <span style="color:#928374;font-style:italic"># control mpd from terminal</span>
</span></span><span style="display:flex;"><span>ncmpcpp <span style="color:#928374;font-style:italic"># custom ncmpcpp with visualizer. see let/in on top</span>
</span></span></code></pre></div>
<h3 class="relative group">Browsers 
    <div id="browsers" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#browsers" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>firefox <span style="color:#928374;font-style:italic"># normal browser</span>
</span></span><span style="display:flex;"><span>chromium <span style="color:#928374;font-style:italic"># ungoogled chrome (needed for react-native debugger)</span>
</span></span><span style="display:flex;"><span>tor-browser <span style="color:#928374;font-style:italic"># just in case</span>
</span></span><span style="display:flex;"><span>librewolf <span style="color:#928374;font-style:italic"># paranoid browser</span>
</span></span></code></pre></div>
<h3 class="relative group">GUI 
    <div id="gui" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#gui" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>kdePackages<span style="color:#fe8019">.</span>kdenlive <span style="color:#928374;font-style:italic"># open source video editing software</span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># anydesk # proprietary remote control</span>
</span></span><span style="display:flex;"><span>libreoffice-qt6 <span style="color:#928374;font-style:italic"># open .docx</span>
</span></span><span style="display:flex;"><span>pcmanfm <span style="color:#928374;font-style:italic"># file manager</span>
</span></span><span style="display:flex;"><span>blender <span style="color:#928374;font-style:italic"># 3d design</span>
</span></span><span style="display:flex;"><span>wireshark <span style="color:#928374;font-style:italic"># network analizer</span>
</span></span><span style="display:flex;"><span>xournalpp <span style="color:#928374;font-style:italic"># draw shapes using your wacom tablet</span>
</span></span><span style="display:flex;"><span>zathura <span style="color:#928374;font-style:italic"># pdf reader</span>
</span></span><span style="display:flex;"><span>rustdesk <span style="color:#928374;font-style:italic"># open source remote control</span>
</span></span><span style="display:flex;"><span>flameshot <span style="color:#928374;font-style:italic"># screenshot utility for xorg</span>
</span></span><span style="display:flex;"><span>anki <span style="color:#928374;font-style:italic"># the best spaced repetition tool</span>
</span></span><span style="display:flex;"><span>bleachbit <span style="color:#928374;font-style:italic"># system cleanup</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># security</span>
</span></span><span style="display:flex;"><span>keepassxc <span style="color:#928374;font-style:italic"># password manager</span>
</span></span><span style="display:flex;"><span>cryptomator
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># image processing</span>
</span></span><span style="display:flex;"><span>gimp-with-plugins <span style="color:#928374;font-style:italic"># open source photoshop</span>
</span></span><span style="display:flex;"><span>krita <span style="color:#928374;font-style:italic"># digital art in linux? also comfyui integration using comfyui plugins</span>
</span></span><span style="display:flex;"><span>inkscape-with-extensions <span style="color:#928374;font-style:italic"># svg and logo design</span>
</span></span></code></pre></div>
<h3 class="relative group">Suckless 
    <div id="suckless" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#suckless" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># suckless</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># st</span>
</span></span><span style="display:flex;"><span>(st<span style="color:#fe8019">.</span>overrideAttrs { src <span style="color:#fe8019">=</span> <span style="color:#b8bb26">../../suckless/st-0.9.2</span>; })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># slstatus</span>
</span></span><span style="display:flex;"><span>(slstatus<span style="color:#fe8019">.</span>overrideAttrs {src <span style="color:#fe8019">=</span> <span style="color:#b8bb26">../../suckless/slstatus</span>;})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># dmenu</span>
</span></span><span style="display:flex;"><span>(dmenu<span style="color:#fe8019">.</span>overrideAttrs { src <span style="color:#fe8019">=</span> <span style="color:#b8bb26">../../suckless/dmenu-5.3</span>; })
</span></span></code></pre></div>
<h3 class="relative group">Misc 
    <div id="misc" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#misc" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>wget <span style="color:#928374;font-style:italic"># download things</span>
</span></span><span style="display:flex;"><span>gcolor3 <span style="color:#928374;font-style:italic"># color palettes for web dev</span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># simplescreenrecorder # screen recorder for xorg (disabled because using ffmpeg)</span>
</span></span><span style="display:flex;"><span>screenkey <span style="color:#928374;font-style:italic"># show key presses on screen (screencast)</span>
</span></span><span style="display:flex;"><span>xcolor <span style="color:#928374;font-style:italic"># color picker for xorg</span>
</span></span><span style="display:flex;"><span>appimage-run <span style="color:#928374;font-style:italic"># run appimages on nixos</span>
</span></span><span style="display:flex;"><span>libcaca <span style="color:#928374;font-style:italic"># ascii art viewer</span>
</span></span><span style="display:flex;"><span>wipe <span style="color:#928374;font-style:italic"># securely wipe directories and files on hdd/ssd</span>
</span></span><span style="display:flex;"><span>git <span style="color:#928374;font-style:italic"># version control</span>
</span></span><span style="display:flex;"><span>unrar <span style="color:#928374;font-style:italic"># non-free but needed</span>
</span></span><span style="display:flex;"><span>koreader <span style="color:#928374;font-style:italic"># awesome book reader</span>
</span></span><span style="display:flex;"><span>dunst <span style="color:#928374;font-style:italic"># notification daemon</span>
</span></span><span style="display:flex;"><span>opensnitch-ui <span style="color:#928374;font-style:italic"># enable interactive notifications for application firewall</span>
</span></span><span style="display:flex;"><span>gowall <span style="color:#928374;font-style:italic"># change colorschemes of any wallpaper</span>
</span></span><span style="display:flex;"><span>peek <span style="color:#928374;font-style:italic"># record desktop gifs</span>
</span></span><span style="display:flex;"><span>graphviz <span style="color:#928374;font-style:italic"># org-mode graph generation dependency</span>
</span></span><span style="display:flex;"><span>plantuml-c4 <span style="color:#928374;font-style:italic"># org-mode graph generation</span>
</span></span><span style="display:flex;"><span>kitty <span style="color:#928374;font-style:italic"># fallback terminal</span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># teams-for-linux # microsoft teams for linux (unofficial)</span>
</span></span><span style="display:flex;"><span>pinentry-gtk2 <span style="color:#928374;font-style:italic"># password prompt for gnupg</span>
</span></span><span style="display:flex;"><span>ffmpeg-full <span style="color:#928374;font-style:italic"># needed for ncmpcpp cover art display and bunch of other things</span>
</span></span><span style="display:flex;"><span>libnotify <span style="color:#928374;font-style:italic"># dunst dep</span>
</span></span><span style="display:flex;"><span>xcalib <span style="color:#928374;font-style:italic"># invert colors of x</span>
</span></span><span style="display:flex;"><span>xorg<span style="color:#fe8019">.</span>xev <span style="color:#928374;font-style:italic"># find keysims</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>nixos-generators <span style="color:#928374;font-style:italic"># generate various images from nixos config (qcow2)</span>
</span></span><span style="display:flex;"><span>dmg2img <span style="color:#928374;font-style:italic"># convert apple&#39;s disk images to .img files. (needed for installing hackintoch on qemu)</span>
</span></span><span style="display:flex;"><span>pandoc <span style="color:#928374;font-style:italic"># emacs&#39;s markdown compiler and org-mode dep</span>
</span></span><span style="display:flex;"><span>socat <span style="color:#928374;font-style:italic"># serial communication with quickemy headless hosts witout ssh</span>
</span></span><span style="display:flex;"><span>btrfs-progs <span style="color:#928374;font-style:italic"># you need this for nixos os-prober detect other oses like fedora which uses btrfs by default</span>
</span></span><span style="display:flex;"><span>arp-scan <span style="color:#928374;font-style:italic"># scan local ips</span>
</span></span><span style="display:flex;"><span>iptraf-ng <span style="color:#928374;font-style:italic"># watch network traffix in tui</span>
</span></span><span style="display:flex;"><span>fd <span style="color:#928374;font-style:italic"># doom emacs dep</span>
</span></span><span style="display:flex;"><span>logseq <span style="color:#928374;font-style:italic"># note taking tool</span>
</span></span><span style="display:flex;"><span>protonvpn-cli_2 <span style="color:#928374;font-style:italic"># vpn (this does not work anymore)</span>
</span></span><span style="display:flex;"><span>protonvpn-cli <span style="color:#928374;font-style:italic"># vpn</span>
</span></span><span style="display:flex;"><span>lilypond-unstable-with-fonts <span style="color:#928374;font-style:italic"># music notation (for doom emacs org-mode)</span>
</span></span><span style="display:flex;"><span>inetutils <span style="color:#928374;font-style:italic"># for whois command</span>
</span></span><span style="display:flex;"><span>binwalk <span style="color:#928374;font-style:italic"># check files</span>
</span></span><span style="display:flex;"><span>jq <span style="color:#928374;font-style:italic"># needed for my adaptive bluelight filter adjuster</span>
</span></span><span style="display:flex;"><span>ranger <span style="color:#928374;font-style:italic"># tui file manager</span>
</span></span><span style="display:flex;"><span>zip <span style="color:#928374;font-style:italic"># archiving utility</span>
</span></span><span style="display:flex;"><span>p7zip <span style="color:#928374;font-style:italic"># great archiving tool</span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># ollama-cuda # use local llms. installing this via systemPackages to set &#34;models&#34; dir to my home</span>
</span></span><span style="display:flex;"><span>tree-sitter <span style="color:#928374;font-style:italic"># parser for programming</span>
</span></span><span style="display:flex;"><span>lazygit <span style="color:#928374;font-style:italic"># git but fast</span>
</span></span><span style="display:flex;"><span>cmake <span style="color:#928374;font-style:italic"># installed for vterm to compile</span>
</span></span><span style="display:flex;"><span>pavucontrol <span style="color:#928374;font-style:italic"># pipewire buffer size and latency settings can be done from there</span>
</span></span><span style="display:flex;"><span>libtool <span style="color:#928374;font-style:italic"># installed for compiling vterm</span>
</span></span><span style="display:flex;"><span>undollar <span style="color:#928374;font-style:italic"># you copy and paste code from internet? you simply need it</span>
</span></span><span style="display:flex;"><span>gperftools <span style="color:#928374;font-style:italic"># improve memory allocation performance for CPU (need for ai apps use CPU instead f GPU)</span>
</span></span><span style="display:flex;"><span>gtk3 <span style="color:#928374;font-style:italic"># emacs requires this</span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># nvidia-container-toolkit # needed for docker use nvidia</span>
</span></span><span style="display:flex;"><span>w3m <span style="color:#928374;font-style:italic"># image display for terminal</span>
</span></span><span style="display:flex;"><span>gdu <span style="color:#928374;font-style:italic"># scan storage for size</span>
</span></span><span style="display:flex;"><span>tmux <span style="color:#928374;font-style:italic"># life saver</span>
</span></span><span style="display:flex;"><span>smartmontools <span style="color:#928374;font-style:italic"># check health of ssd drives</span>
</span></span><span style="display:flex;"><span>gsmartcontrol <span style="color:#928374;font-style:italic"># check harddrive health</span>
</span></span><span style="display:flex;"><span>btop <span style="color:#928374;font-style:italic"># better system monitor</span>
</span></span><span style="display:flex;"><span>yazi <span style="color:#928374;font-style:italic"># new ranger</span>
</span></span><span style="display:flex;"><span>xorg<span style="color:#fe8019">.</span>xinit <span style="color:#928374;font-style:italic"># for startx command to work</span>
</span></span><span style="display:flex;"><span>xorg<span style="color:#fe8019">.</span>libxcb <span style="color:#928374;font-style:italic"># fix steam &#34;glXChooseVisual&#34; error</span>
</span></span><span style="display:flex;"><span>picom <span style="color:#928374;font-style:italic"># xorg compositor</span>
</span></span><span style="display:flex;"><span>xsel <span style="color:#928374;font-style:italic"># x clipboard</span>
</span></span><span style="display:flex;"><span>xdotool <span style="color:#928374;font-style:italic"># simulate keyboard and mouse events</span>
</span></span><span style="display:flex;"><span>scrcpy <span style="color:#928374;font-style:italic"># mirror android phone to pc</span>
</span></span><span style="display:flex;"><span>nsxiv <span style="color:#928374;font-style:italic"># image viewer</span>
</span></span><span style="display:flex;"><span>yt-dlp <span style="color:#928374;font-style:italic"># youtube video downloader + you can watch videos from mpv using this utility</span>
</span></span><span style="display:flex;"><span>tshark <span style="color:#928374;font-style:italic"># scan local network</span>
</span></span><span style="display:flex;"><span>colordiff <span style="color:#928374;font-style:italic"># to display colored output (installed for tshark)</span>
</span></span><span style="display:flex;"><span>unp <span style="color:#928374;font-style:italic"># unpack any archive</span>
</span></span><span style="display:flex;"><span>mermaid-cli <span style="color:#928374;font-style:italic"># for org-babel mermaid diagrams support (doom emacs)</span>
</span></span><span style="display:flex;"><span>xorg<span style="color:#fe8019">.</span>libxshmfence <span style="color:#928374;font-style:italic"># appimage-run requires it for some appimages like Mechvibes</span>
</span></span><span style="display:flex;"><span>libgen-cli <span style="color:#928374;font-style:italic"># download books from libgen</span>
</span></span><span style="display:flex;"><span>udiskie <span style="color:#928374;font-style:italic"># auto mount hotplugged block devices</span>
</span></span><span style="display:flex;"><span>ntfs3g <span style="color:#928374;font-style:italic"># make udiskie mount NTFS partitions without problems</span>
</span></span><span style="display:flex;"><span>lxappearance <span style="color:#928374;font-style:italic"># style gtk applications</span>
</span></span><span style="display:flex;"><span>nodejs <span style="color:#928374;font-style:italic"># for emacs to install lsp packages</span>
</span></span><span style="display:flex;"><span>mpv <span style="color:#928374;font-style:italic"># awesome media player (overlayed!)</span>
</span></span><span style="display:flex;"><span>syncthing <span style="color:#928374;font-style:italic"># sync data between devices</span>
</span></span><span style="display:flex;"><span>imagemagick <span style="color:#928374;font-style:italic"># for mp4 to gif conversion and other stuff</span>
</span></span><span style="display:flex;"><span>pulseaudio <span style="color:#928374;font-style:italic"># installed for pactl to work. was trying to record screen with ffmpeg and pipewire. needed pactl</span>
</span></span><span style="display:flex;"><span>uv <span style="color:#928374;font-style:italic"># vital python package. solves all those python version and dependency problems</span>
</span></span><span style="display:flex;"><span>unclutter-xfixes <span style="color:#928374;font-style:italic"># hide mouse cursor after a time period</span>
</span></span><span style="display:flex;"><span>tldr <span style="color:#928374;font-style:italic"># too long didn&#39;t read the manual</span>
</span></span><span style="display:flex;"><span>tabbed <span style="color:#928374;font-style:italic"># suckless tabbed</span>
</span></span><span style="display:flex;"><span>emacsPackages<span style="color:#fe8019">.</span>nov <span style="color:#928374;font-style:italic"># to make nov.el work</span>
</span></span><span style="display:flex;"><span>xsct <span style="color:#928374;font-style:italic"># protect your eyes (blue light filter) (disabled because using redshift)</span>
</span></span><span style="display:flex;"><span>fftw <span style="color:#928374;font-style:italic"># fastest fourier transform for ncmpcpp</span>
</span></span><span style="display:flex;"><span>vlc <span style="color:#928374;font-style:italic"># play dvds .VOB</span>
</span></span><span style="display:flex;"><span>hugo <span style="color:#928374;font-style:italic"># generate static site</span>
</span></span><span style="display:flex;"><span>feh <span style="color:#928374;font-style:italic"># set wallpapers</span>
</span></span><span style="display:flex;"><span>mp3blaster <span style="color:#928374;font-style:italic"># auto tag mp3 files using mp3tag tool</span>
</span></span><span style="display:flex;"><span>zstd <span style="color:#928374;font-style:italic"># extract .zst files</span>
</span></span><span style="display:flex;"><span>isoimagewriter <span style="color:#928374;font-style:italic"># balena etcher alternative</span>
</span></span><span style="display:flex;"><span>neofetch <span style="color:#928374;font-style:italic"># system info</span>
</span></span><span style="display:flex;"><span>weechat <span style="color:#928374;font-style:italic"># irc client (overlayed!)</span>
</span></span><span style="display:flex;"><span>sysstat <span style="color:#928374;font-style:italic"># get system statistics (used for tmux status bar cpu usage)</span>
</span></span><span style="display:flex;"><span>eza <span style="color:#928374;font-style:italic"># ls alternative</span>
</span></span><span style="display:flex;"><span>starship <span style="color:#928374;font-style:italic"># cross shell (very cool)</span>
</span></span><span style="display:flex;"><span>alsa-utils <span style="color:#928374;font-style:italic"># for amixer and and setting volume via scripts and terminal</span>
</span></span><span style="display:flex;"><span>busybox <span style="color:#928374;font-style:italic"># bunch of utilities (need)</span>
</span></span><span style="display:flex;"><span>sxhkd <span style="color:#928374;font-style:italic"># simple x hotkey daemon</span>
</span></span><span style="display:flex;"><span>adw-gtk3 <span style="color:#928374;font-style:italic"># for adwaita-dark theme</span>
</span></span><span style="display:flex;"><span>adwaita-qt <span style="color:#928374;font-style:italic"># make qt applications use dark theme</span>
</span></span><span style="display:flex;"><span>adwaita-icon-theme <span style="color:#928374;font-style:italic"># pretty icons (objective)</span>
</span></span><span style="display:flex;"><span>newsboat <span style="color:#928374;font-style:italic"># rss/atom reader</span>
</span></span><span style="display:flex;"><span>transmission_4-gtk <span style="color:#928374;font-style:italic"># torrent application</span>
</span></span><span style="display:flex;"><span>xd <span style="color:#928374;font-style:italic"># i2p torrenting</span>
</span></span><span style="display:flex;"><span>unzip <span style="color:#928374;font-style:italic"># mendatory</span>
</span></span><span style="display:flex;"><span>hdparm <span style="color:#928374;font-style:italic"># remove disks safely from terminal</span>
</span></span><span style="display:flex;"><span>scrot <span style="color:#928374;font-style:italic"># for emacs&#39;s org-mode screen shot capability</span>
</span></span><span style="display:flex;"><span>bat <span style="color:#928374;font-style:italic"># cat but better</span>
</span></span><span style="display:flex;"><span>fzf <span style="color:#928374;font-style:italic"># fuzzy finder for terminal</span>
</span></span><span style="display:flex;"><span>xclip <span style="color:#928374;font-style:italic"># clipboard for xorg</span>
</span></span><span style="display:flex;"><span>sxhkd <span style="color:#928374;font-style:italic"># simple x11 hotkey daemon</span>
</span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># lxqt.lxqt-policykit # authentication agent</span>
</span></span><span style="display:flex;"><span>lxde<span style="color:#fe8019">.</span>lxsession <span style="color:#928374;font-style:italic"># session manager</span>
</span></span><span style="display:flex;"><span>xorg<span style="color:#fe8019">.</span>xf86videoqxl <span style="color:#928374;font-style:italic"># trying to improve scaling in spice</span>
</span></span><span style="display:flex;"><span>gnupg <span style="color:#928374;font-style:italic"># encryption and stuff</span>
</span></span><span style="display:flex;"><span>stress <span style="color:#928374;font-style:italic"># simulate high cpu load for testing</span>
</span></span><span style="display:flex;"><span>];
</span></span></code></pre></div>
<h2 class="relative group">Fonts 
    <div id="fonts" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#fonts" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>I use Fira Code in my pdf documents and iosevka in terminal</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># fonts</span>
</span></span><span style="display:flex;"><span>fonts<span style="color:#fe8019">.</span>packages <span style="color:#fe8019">=</span> <span style="color:#fe8019">with</span> pkgs; [
</span></span><span style="display:flex;"><span>  nerd-fonts<span style="color:#fe8019">.</span>fira-code
</span></span><span style="display:flex;"><span>  nerd-fonts<span style="color:#fe8019">.</span>iosevka-term
</span></span><span style="display:flex;"><span>  nerd-fonts<span style="color:#fe8019">.</span>iosevka
</span></span><span style="display:flex;"><span>];
</span></span></code></pre></div>
<h2 class="relative group">XDG 
    <div id="xdg" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#xdg" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>I&rsquo;m having issues with xdg even though I set the required settings below (needs more work)</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>xdg<span style="color:#fe8019">.</span>portal <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  extraPortals <span style="color:#fe8019">=</span> [ pkgs<span style="color:#fe8019">.</span>xdg-desktop-portal-gtk ];
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h2 class="relative group">Virtualization 
    <div id="virtualization" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#virtualization" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>I stopped using these virtualization settings after I started using Proxmox as my type 1 hypervisor. But I&rsquo;ll keep these setting for future reference</p>

<h3 class="relative group">VirtualBox 
    <div id="virtualbox" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#virtualbox" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>virtualbox <span style="color:#fe8019">=</span> { <span style="color:#928374;font-style:italic"># virtualbox cannot be built with linux-rt kernel. hence disabled</span>
</span></span><span style="display:flex;"><span>  host <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>    enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>  guest <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>    enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>    vboxsf <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>    dragAndDrop <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>    clipboard <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h3 class="relative group">Podman 
    <div id="podman" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#podman" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>podman <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#928374;font-style:italic"># dockerCompat = true;</span>
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h3 class="relative group">Docker 
    <div id="docker" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#docker" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>I change my docker data root directory to prevent bloating my root directory.</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>docker <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  enableOnBoot <span style="color:#fe8019">=</span> <span style="color:#d3869b">false</span>;
</span></span><span style="display:flex;"><span>  daemon<span style="color:#fe8019">.</span>settings <span style="color:#fe8019">=</span> { data-root <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;</span><span style="color:#b8bb26">${</span>HOME<span style="color:#b8bb26">}</span><span style="color:#b8bb26">/resource/docker&#34;</span>; };
</span></span><span style="display:flex;"><span>  autoPrune <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>    enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>    dates <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;weekly&#34;</span>;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>I was using rootless docker but I faced issues when running containers that require Nvidia drivers. So I disabled this feature on my side.</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>rootless <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  setSocketVariable <span style="color:#fe8019">=</span> <span style="color:#d3869b">false</span>;
</span></span><span style="display:flex;"><span>  daemon<span style="color:#fe8019">.</span>settings <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>    runtimes <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>      nvidia <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>        path <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;</span><span style="color:#b8bb26">${</span>pkgs<span style="color:#fe8019">.</span>nvidia-docker<span style="color:#b8bb26">}</span><span style="color:#b8bb26">/bin/nvidia-container-runtime&#34;</span>;
</span></span><span style="display:flex;"><span>      };
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h3 class="relative group">Libvirt 
    <div id="libvirt" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#libvirt" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>libvirtd <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  qemu <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>    package <span style="color:#fe8019">=</span> pkgs<span style="color:#fe8019">.</span>qemu_kvm;
</span></span><span style="display:flex;"><span>    runAsRoot <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>    swtpm<span style="color:#fe8019">.</span>enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#928374;font-style:italic"># enable file share between host/guest</span>
</span></span><span style="display:flex;"><span>    vhostUserPackages <span style="color:#fe8019">=</span> <span style="color:#fe8019">with</span> pkgs; [ virtiofsd ];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    ovmf <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>      enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>      packages <span style="color:#fe8019">=</span> [
</span></span><span style="display:flex;"><span>        (pkgs<span style="color:#fe8019">.</span>OVMF<span style="color:#fe8019">.</span>override {
</span></span><span style="display:flex;"><span>          secureBoot <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>          tpmSupport <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>        })<span style="color:#fe8019">.</span>fd
</span></span><span style="display:flex;"><span>      ];
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h3 class="relative group">Waydroid 
    <div id="waydroid" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#waydroid" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>Android emulation on Linux? Sounds cool!</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>waydroid<span style="color:#fe8019">.</span>enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span></code></pre></div>
<h2 class="relative group">Services 
    <div id="services" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#services" aria-label="Anchor">#</a>
    </span>        
    
</h2>

<h3 class="relative group">xorg 
    <div id="xorg" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#xorg" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>I use NixOS as a Proxmox vm. I enable &ldquo;qxl&rdquo; for SPICE. You don&rsquo;t need this if you&rsquo;re running NixOS on baremetal</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#928374;font-style:italic"># enable xorg</span>
</span></span><span style="display:flex;"><span>xserver <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  xkb <span style="color:#fe8019">=</span> { layout <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;tr&#34;</span>; };
</span></span><span style="display:flex;"><span>  videoDrivers <span style="color:#fe8019">=</span> [ <span style="color:#b8bb26">&#34;qxl&#34;</span> ]; <span style="color:#928374;font-style:italic"># increase SPICE performance</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#928374;font-style:italic"># display manager</span>
</span></span><span style="display:flex;"><span>  displayManager<span style="color:#fe8019">.</span>lightdm<span style="color:#fe8019">.</span>enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#928374;font-style:italic"># window manager</span>
</span></span><span style="display:flex;"><span>  windowManager <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>    dwm <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>      enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>      package <span style="color:#fe8019">=</span> pkgs<span style="color:#fe8019">.</span>dwm<span style="color:#fe8019">.</span>overrideAttrs {
</span></span><span style="display:flex;"><span>        src <span style="color:#fe8019">=</span> <span style="color:#b8bb26">../../suckless/dwm-6.5</span>;
</span></span><span style="display:flex;"><span>      };
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h3 class="relative group">spice 
    <div id="spice" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#spice" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>Since I use NixOS as a Proxmox vm, I sometimes connect to it via SPICE client <code>virt-viewer</code>. These services increase performance in the viewer and also let me share clipboard etc.</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>spiceUSBRedirection<span style="color:#fe8019">.</span>enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>spice-vdagentd<span style="color:#fe8019">.</span>enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>qemuGuest<span style="color:#fe8019">.</span>enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span></code></pre></div>
<h3 class="relative group">ssh 
    <div id="ssh" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#ssh" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>    openssh <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>      enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>      startWhenNeeded <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>    };
</span></span></code></pre></div>
<h3 class="relative group">cron 
    <div id="cron" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#cron" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>cron <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  systemCronJobs <span style="color:#fe8019">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#928374;font-style:italic"># keep your ssd healthy by trimming it hourly (redhat suggestion)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#b8bb26">&#34;0 * * * * root fstrim -av &gt;&gt; /var/log/fstrim.log 2&gt;&amp;1&#34;</span>
</span></span><span style="display:flex;"><span>  ];
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h3 class="relative group">opensnitch 
    <div id="opensnitch" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#opensnitch" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>I use <strong>opensnitch</strong> as my <strong>application firewall</strong>. It is the closest alternative to <strong>Simplewall</strong> on windows. I also set some default rules below</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>opensnitch <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  rules <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>    systemd-timesyncd <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>      name <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;systemd-timesyncd&#34;</span>;
</span></span><span style="display:flex;"><span>      enabled <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>      action <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;allow&#34;</span>;
</span></span><span style="display:flex;"><span>      duration <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;always&#34;</span>;
</span></span><span style="display:flex;"><span>      operator <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>        type <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;simple&#34;</span>;
</span></span><span style="display:flex;"><span>        sensitive <span style="color:#fe8019">=</span> <span style="color:#d3869b">false</span>;
</span></span><span style="display:flex;"><span>        operand <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;process.path&#34;</span>;
</span></span><span style="display:flex;"><span>        data <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;</span><span style="color:#b8bb26">${</span>lib<span style="color:#fe8019">.</span>getBin pkgs<span style="color:#fe8019">.</span>systemd<span style="color:#b8bb26">}</span><span style="color:#b8bb26">/lib/systemd/systemd-timesyncd&#34;</span>;
</span></span><span style="display:flex;"><span>      };
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>    systemd-resolved <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>      name <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;systemd-resolved&#34;</span>;
</span></span><span style="display:flex;"><span>      enabled <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>      action <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;allow&#34;</span>;
</span></span><span style="display:flex;"><span>      duration <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;always&#34;</span>;
</span></span><span style="display:flex;"><span>      operator <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>        type <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;simple&#34;</span>;
</span></span><span style="display:flex;"><span>        sensitive <span style="color:#fe8019">=</span> <span style="color:#d3869b">false</span>;
</span></span><span style="display:flex;"><span>        operand <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;process.path&#34;</span>;
</span></span><span style="display:flex;"><span>        data <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;</span><span style="color:#b8bb26">${</span>lib<span style="color:#fe8019">.</span>getBin pkgs<span style="color:#fe8019">.</span>systemd<span style="color:#b8bb26">}</span><span style="color:#b8bb26">/lib/systemd/systemd-resolved&#34;</span>;
</span></span><span style="display:flex;"><span>      };
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h3 class="relative group">udisks2 
    <div id="udisks2" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#udisks2" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>Mount disks without sudo (requires udiskie)</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>udisks2 <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h3 class="relative group">gvfs 
    <div id="gvfs" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#gvfs" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>enable android file system mount in pcmanfm</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>gvfs <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h3 class="relative group">pipewire 
    <div id="pipewire" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#pipewire" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>pipewire <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  alsa<span style="color:#fe8019">.</span>enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  alsa<span style="color:#fe8019">.</span>support32Bit <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  pulse<span style="color:#fe8019">.</span>enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  jack<span style="color:#fe8019">.</span>enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h3 class="relative group">ly 
    <div id="ly" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#ly" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>I used <code>ly</code> as my tui login manager but it does a <strong>horrible</strong> job in managing my session. I replaced it with <code>lightdm</code> but I&rsquo;ll leave it here for future reference</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>displayManager <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  ly <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>    enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
<h3 class="relative group">dnscrypt 
    <div id="dnscrypt" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#dnscrypt" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>I encrypt my dns instead of using slow VPNs. see <a
  href="https://github.com/DNSCrypt/dnscrypt-proxy/blob/master/dnscrypt-proxy/example-dnscrypt-proxy.toml"
    target="_blank"
  >dnscrypt-proxy</a> for more information</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>dnscrypt-proxy2 <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>  enable <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>  settings <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>    ipv6_servers <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>    require_dnssec <span style="color:#fe8019">=</span> <span style="color:#d3869b">true</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#928374;font-style:italic"># Add this to test if dnscrypt-proxy is actually used to resolve DNS requests</span>
</span></span><span style="display:flex;"><span>    query_log<span style="color:#fe8019">.</span>file <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;/var/log/dnscrypt-proxy/query.log&#34;</span>;
</span></span><span style="display:flex;"><span>    sources<span style="color:#fe8019">.</span>public-resolvers <span style="color:#fe8019">=</span> {
</span></span><span style="display:flex;"><span>      urls <span style="color:#fe8019">=</span> [
</span></span><span style="display:flex;"><span>        <span style="color:#b8bb26">&#34;https://raw.githubusercontent.com/DNSCrypt/dnscrypt-resolvers/master/v3/public-resolvers.md&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#b8bb26">&#34;https://download.dnscrypt.info/resolvers-list/v3/public-resolvers.md&#34;</span>
</span></span><span style="display:flex;"><span>      ];
</span></span><span style="display:flex;"><span>      cache_file <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;/var/cache/dnscrypt-proxy/public-resolvers.md&#34;</span>;
</span></span><span style="display:flex;"><span>      minisign_key <span style="color:#fe8019">=</span>
</span></span><span style="display:flex;"><span>        <span style="color:#b8bb26">&#34;RWQf6LRCGA9i53mlYecO4IzT51TGPpvWucNSCh1CBM0QTaLn73Y7GFO3&#34;</span>;
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div>
          
          
          
            <strong class="block mt-8">
              <a
                target="_blank"
                class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
                href="mailto:savolla@protonmail.com?subject=Reply%20to%20My%20Literate%20NixOS%20Configuration">
                Reply by Email
              </a>
            </strong>
          
        </div>
        
          
  
  
  
  
  
  

  

  
    
    
<div class="flex author">
  
    
    
      
    
    
      
        
      
      <img
        class="!mt-0 !mb-0 h-24 w-24 rounded-full ltr:mr-4 rtl:ml-4"
        width="96"
        height="96"
        alt="Kuzey Koç"
        src="/savolla-avatar-ascii_hu_8abd9c2c65977f2b.png">
    
  
  <div class="place-self-center">
    
      <div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">
        Author
      </div>
      <div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">
        Kuzey Koç
      </div>
    
    
      <div class="text-sm text-neutral-700 dark:text-neutral-400">DevOps Engineer</div>
    
    <div class="text-2xl sm:text-lg">
  <div class="flex flex-wrap text-neutral-400 dark:text-neutral-500">
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="savolla@protonmail.com"
          target="_blank"
          aria-label="Email"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1c-27.64 140.9 68.65 266.2 199.1 285.1c19.01 2.888 36.17-12.26 36.17-31.49l.0001-.6631c0-15.74-11.44-28.88-26.84-31.24c-84.35-12.98-149.2-86.13-149.2-174.2c0-102.9 88.61-185.5 193.4-175.4c91.54 8.869 158.6 91.25 158.6 183.2l0 16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98 .0036c-7.299 0-13.2 4.992-15.12 11.68c-24.85-12.15-54.24-16.38-86.06-5.106c-38.75 13.73-68.12 48.91-73.72 89.64c-9.483 69.01 43.81 128 110.9 128c26.44 0 50.43-9.544 69.59-24.88c24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3C495.1 107.1 361.2-9.332 207.8 20.73zM239.1 304.3c-26.47 0-48-21.56-48-48.05s21.53-48.05 48-48.05s48 21.56 48 48.05S266.5 304.3 239.1 304.3z"/></svg>
</span></span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://github.com/savolla"
          target="_blank"
          aria-label="Github"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span></span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="www.linkedin.com/in/kuzey-ko%c3%a7-419043327"
          target="_blank"
          aria-label="Linkedin"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
</span></span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://matrix.to/#/@savolla:matrix.org"
          target="_blank"
          aria-label="Matrix"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom"><span class="relative block icon"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Matrix</title><path fill="currentColor" d="M.632.55v22.9H2.28V24H0V0h2.28v.55zm7.043 7.26v1.157h.033c.309-.443.683-.784 1.117-1.024.433-.245.936-.365 1.5-.365.54 0 1.033.107 1.481.314.448.208.785.582 1.02 1.108.254-.374.6-.706 1.034-.992.434-.287.95-.43 1.546-.43.453 0 .872.056 1.26.167.388.11.716.286.993.53.276.245.489.559.646.951.152.392.23.863.23 1.417v5.728h-2.349V11.52c0-.286-.01-.559-.032-.812a1.755 1.755 0 0 0-.18-.66 1.106 1.106 0 0 0-.438-.448c-.194-.11-.457-.166-.785-.166-.332 0-.6.064-.803.189a1.38 1.38 0 0 0-.48.499 1.946 1.946 0 0 0-.231.696 5.56 5.56 0 0 0-.06.785v4.768h-2.35v-4.8c0-.254-.004-.503-.018-.752a2.074 2.074 0 0 0-.143-.688 1.052 1.052 0 0 0-.415-.503c-.194-.125-.476-.19-.854-.19-.111 0-.259.024-.439.074-.18.051-.36.143-.53.282-.171.138-.319.337-.439.595-.12.259-.18.6-.18 1.02v4.966H5.46V7.81zm15.693 15.64V.55H21.72V0H24v24h-2.28v-.55z"/></svg></span></span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://www.youtube.com/@savollaross/videos"
          target="_blank"
          aria-label="Youtube"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
</span></span></a
        >
      
    
  </div>

</div>
  </div>
</div>

  

  

  
    <div class="mb-10"></div>
  

        
        

        
  
  <section class="flex flex-row flex-wrap justify-center pt-4 text-xl">
    
      
        <a
          target="_blank"
          class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http://localhost:1313/posts/my-literate-nixos-config/&amp;title=My%20Literate%20NixOS%20Configuration"
          title="Share on LinkedIn"
          aria-label="Share on LinkedIn">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
</span>
        </a>
      
    
      
        <a
          target="_blank"
          class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="https://twitter.com/intent/tweet/?url=http://localhost:1313/posts/my-literate-nixos-config/&amp;text=My%20Literate%20NixOS%20Configuration"
          title="Tweet on Twitter"
          aria-label="Tweet on Twitter">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg></span>
        </a>
      
    
      
        <a
          target="_blank"
          class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="https://s2f.kytta.dev/?text=My%20Literate%20NixOS%20Configuration%20http://localhost:1313/posts/my-literate-nixos-config/"
          title=""
          aria-label="">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg>
</span>
        </a>
      
    
      
        <a
          target="_blank"
          class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
          href="mailto:?body=http://localhost:1313/posts/my-literate-nixos-config/&amp;subject=My%20Literate%20NixOS%20Configuration"
          title="Send via email"
          aria-label="Send via email">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1c-27.64 140.9 68.65 266.2 199.1 285.1c19.01 2.888 36.17-12.26 36.17-31.49l.0001-.6631c0-15.74-11.44-28.88-26.84-31.24c-84.35-12.98-149.2-86.13-149.2-174.2c0-102.9 88.61-185.5 193.4-175.4c91.54 8.869 158.6 91.25 158.6 183.2l0 16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98 .0036c-7.299 0-13.2 4.992-15.12 11.68c-24.85-12.15-54.24-16.38-86.06-5.106c-38.75 13.73-68.12 48.91-73.72 89.64c-9.483 69.01 43.81 128 110.9 128c26.44 0 50.43-9.544 69.59-24.88c24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3C495.1 107.1 361.2-9.332 207.8 20.73zM239.1 304.3c-26.47 0-48-21.56-48-48.05s21.53-48.05 48-48.05s48 21.56 48 48.05S266.5 304.3 239.1 304.3z"/></svg>
</span>
        </a>
      
    
  </section>


        

      </div>

      
      
        
        
          
          
        
        
        
        <script
          type="text/javascript"
          src="/js/page.min.54b6f4371722649edbe871e431d8670d670878c22be8f36e229fe53cc9b786fe25a834def5e6de621f7a3e37b72bc8cd73839aa5ed907ed6cbd45cd3e1b0fa20.js"
          integrity="sha512-VLb0NxciZJ7b6HHkMdhnDWcIeMIr6PNuIp/lPMm3hv4lqDTe9ebeYh96Pje3K8jNc4Oape2QftbL1FzT4bD6IA=="
          data-oid="views_posts/my-literate-nixos-config/index.md"
          data-oid-likes="likes_posts/my-literate-nixos-config/index.md"></script>
      
    </section>

    
    <footer class="pt-8 max-w-prose print:hidden">
      

      
    </footer>
  </article>

        
      </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
      
      
        
          
          
      
      
      
      <nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400 ">
        <ul class="flex list-none flex-col sm:flex-row">
          
            <li class=" flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0 ">
              <a
                class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center"
                href="/tags/"
                title="Tags">
                
                tags
              </a>
            </li>
          
        </ul>
      </nav>
    
  
  <div class="flex items-center justify-between">
    
    
      <p class="text-sm text-neutral-500 dark:text-neutral-400">
          © 2025 Kuzey Koç. All rights reserved.
      </p>
    

    
    
  </div>
  
    <script>
      mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
        margin: 24,
        background: "rgba(0,0,0,0.5)",
        scrollOffset: 0,
      });
    </script>
  
  
  
  <script
    type="text/javascript"
    src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js"
    integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500"
  data-url="http://localhost:1313/">
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800">
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0">
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)">
        <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

    </div>
  </body>
  
</html>
